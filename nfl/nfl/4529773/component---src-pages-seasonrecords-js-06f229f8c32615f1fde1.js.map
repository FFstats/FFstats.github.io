{"version":3,"sources":["webpack:///./src/components/SeasonRecord/index.js","webpack:///./src/pages/seasonrecords.js","webpack:///./node_modules/lodash/maxBy.js","webpack:///./node_modules/lodash/_baseAggregator.js","webpack:///./node_modules/lodash/_createAggregator.js","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./node_modules/lodash/groupBy.js","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./node_modules/lodash/minBy.js","webpack:///./node_modules/lodash/_baseAssignValue.js","webpack:///./node_modules/lodash/_baseLt.js","webpack:///./node_modules/lodash/_arrayAggregator.js"],"names":["SeasonRecord","props","className","title","label","data","map","item","i","Fragment","key","alt","src","image","onError","ev","target","name","year","wins","loses","scoreFor","scoreAgaisnt","avgPoints","scoreTimes","SeasonRecords","query","games","allGamesJson","nodes","owners","allOwnersJson","useState","Set","reverse","items","setItems","topWins","setTopWins","topLoses","setTopLoses","topScores","setTopScores","bottomScores","setBottomScores","topScoresAgaisnt","setTopScoresAgaisnt","bottomScoresAgaisnt","setBottomScoresAgaisnt","topAVGPoints","setTopAVGPoints","bottomAVGPoints","setBottomAVGPoints","maxScoreWeekSeason","setMaxScoreWeekSeason","minScoreWeekSeason","setMinScoreWeekSeason","seasonStats","useEffect","gamesByOwners","gamesByOwnerFunc","scoresByOwner","scoresOwners","scoresYearsWeeks","game","seasonWeekStats","Object","keys","forEach","maxScoresWeek","o","score","minScoresWeek","push","id","seasonWeekYearStats","week","console","log","countMaxScore","countMinScore","element","entries","ownerID","val","scoreOwner","owner","gamesOwnersYears","season","seasonOutcome","onChange","e","value","baseExtremum","baseGt","baseIteratee","module","exports","array","iteratee","length","undefined","baseEach","collection","setter","accumulator","arrayAggregator","baseAggregator","isArray","initializer","func","other","baseAssignValue","createAggregator","hasOwnProperty","prototype","groupBy","result","call","isSymbol","comparator","index","current","computed","baseLt","defineProperty","object"],"mappings":"wUAmDeA,G,UA/CM,SAACC,GAAD,OAClB,yBAAKC,UAAU,oBACd,yBAAKA,UAAU,qEACb,wBAAIA,UAAU,6BAA6BD,EAAME,OACjD,yBAAKD,UAAU,mBACb,uBAAGA,UAAU,iBAAb,SAEF,yBAAKA,UAAU,cACb,uBAAGA,UAAU,iBAAb,SAEF,yBAAKA,UAAU,cACb,uBAAGA,UAAU,iBAAiBD,EAAMG,QAEnCH,EAAMI,KAAKC,KAAI,SAACC,EAAMC,GAAP,OACd,kBAAC,IAAMC,SAAP,CAAgBC,IAAKF,GACnB,yBAAKN,UAAU,cACb,yBAAKA,UAAU,mBACjB,yBAAKA,UAAU,0BACb,uBAAIA,UAAU,eAAeM,EAAI,GAC7B,yBAAKG,IAAI,YAAYC,IAAKL,EAAKM,MAAOX,UAAU,QAAQY,QAAS,SAAUC,GACzEA,EAAGC,OAAOJ,IAAM,+CAEtB,2BAAIL,EAAKU,OAEX,yBAAKf,UAAU,0BACb,2BAAIK,EAAKW,OAEX,yBAAKhB,UAAW,0BACC,SAAhBD,EAAMG,OAAoB,2BAAIG,EAAKY,MACnB,UAAhBlB,EAAMG,OAAqB,2BAAIG,EAAKa,OACpB,gBAAhBnB,EAAME,OAA2B,2BAAII,EAAKc,UAC1B,gBAAhBpB,EAAME,OAA2B,2BAAII,EAAKc,UAC1B,wBAAhBpB,EAAME,OAAmC,2BAAII,EAAKe,cAClC,wBAAhBrB,EAAME,OAAmC,2BAAII,EAAKe,cAClC,yBAAhBrB,EAAME,OAAoC,2BAAII,EAAKgB,WACnC,yBAAhBtB,EAAME,OAAoC,2BAAII,EAAKgB,WACnC,yCAAhBtB,EAAME,OAAoD,2BAAII,EAAKiB,YACnD,wCAAhBvB,EAAME,OAAmD,2BAAII,EAAKiB,uB,YCoJhEC,UArLO,SAACC,GAErB,IAAMC,EAAQD,EAAMrB,KAAKuB,aAAaC,MAChCC,EAASJ,EAAMrB,KAAK0B,cAAcF,MAGxC,GADqBG,mBAAS,YAAI,IAAIC,IAAIN,EAAMrB,KAAI,SAAAC,GAAI,OAAIA,EAAKW,UAAQgB,WAAzE,GAC0BF,mBAAS,KAA5BG,EAAP,KAAcC,EAAd,KACA,EAA8BJ,mBAAS,IAAhCK,EAAP,KAAgBC,EAAhB,KACA,EAAgCN,mBAAS,IAAlCO,EAAP,KAAiBC,EAAjB,KACA,EAAkCR,mBAAS,IAApCS,EAAP,KAAkBC,EAAlB,KACA,EAAwCV,mBAAS,IAA1CW,EAAP,KAAqBC,EAArB,KACA,EAAgDZ,mBAAS,IAAlDa,EAAP,KAAyBC,EAAzB,KACA,EAAsDd,mBAAS,IAAxDe,EAAP,KAA4BC,EAA5B,KACA,EAA4BhB,mBAAS,IACrC,GADA,UACwCA,mBAAS,KAA1CiB,EAAP,KAAqBC,EAArB,KACA,EAA8ClB,mBAAS,IAAhDmB,EAAP,KAAwBC,EAAxB,KACA,EAAoDpB,mBAAS,IAAtDqB,EAAP,KAA2BC,EAA3B,KACA,EAAoDtB,mBAAS,IAAtDuB,EAAP,KAA2BC,EAA3B,KAEMC,EAAc,GAuHpB,OAnHAC,qBAAU,WAGT,IAAMC,EAAgBC,YAAiBjC,GAGjCkC,EAAeC,YAAanC,GAG5BoC,EAAmB,IAAUF,GAAe,SAACG,GAClD,MAAO,CAACA,EAAI,KAAUA,EAAI,SAKrBC,EAAkB,GACxBC,OAAOC,KAAKJ,GAAkBK,SAAQ,SAAA1D,GACrC,IAAM2D,EAAgB,IAAQN,EAAiBrD,IAAM,SAAS4D,GAC7D,OAAOA,EAAEC,SAEJC,EAAgB,IAAQT,EAAiBrD,IAAM,SAAS4D,GAC7D,OAAOA,EAAEC,SAGVN,EAAgBQ,KAAK,CACpBJ,cAAeA,EAAcK,GAC7BF,cAAeA,EAAcE,GAC7BxD,KAAMmD,EAAcnD,UAKtB,IAAMyD,EAAsB,IAAUV,GAAiB,SAACW,GACvD,MAAO,CAACA,EAAI,SAGbC,QAAQC,IAAIH,EAAoB,uBAEhCT,OAAOC,KAAKQ,GAAqBP,SAAQ,SAAAlD,GACxC,IAAM6D,EAAgB,GAChBC,EAAgB,GAEtBL,EAAoBzD,GAAMkD,SAAQ,SAAAa,GAEjCF,EAAcE,EAAQZ,gBAAkBU,EAAcE,EAAQZ,gBAAkB,GAAK,EACrFW,EAAcC,EAAQT,gBAAkBQ,EAAcC,EAAQT,gBAAkB,GAAK,KAGtFK,QAAQC,IAAIC,EAAc,iBACPb,OAAOgB,QAAQH,GACvBX,SAAS,YAAsB,IAApBe,EAAmB,KAAVC,EAAU,KACxC/B,EAAmBoB,KAAK,CACvBY,WAAYF,EACZ3D,WAAY4D,EACZnE,KAAM,IAAOa,EAAQ,CAAC,KAAMqD,IAAWlE,KACvCJ,MAAQ,IAAOiB,EAAQ,CAAC,KAAMqD,IAAUtE,MACxCK,YAIF2D,QAAQC,IAAIE,EAAc,iBACPd,OAAOgB,QAAQF,GACvBZ,SAAS,YAAsB,IAApBe,EAAmB,KAAVC,EAAU,KACxC7B,EAAmBkB,KAAK,CACvBY,WAAYF,EACZ3D,WAAY4D,EACZnE,KAAM,IAAOa,EAAQ,CAAC,KAAMqD,IAAWlE,KACvCJ,MAAQ,IAAOiB,EAAQ,CAAC,KAAMqD,IAAUtE,MACxCK,eAKHyC,EAAcS,SAAQ,SAACkB,GAGtB,IAAMC,EAAmB,IAAUD,EAAM3D,OAAO,SAACqC,GAChD,MAAO,CAACA,EAAI,SAMbE,OAAOC,KAAKoB,GAAkBnB,SAAQ,SAAA1D,GACrC,IAAI8E,EAASC,YAAcF,EAAiB7E,GAAK4E,EAAMZ,IAEvDc,EAAOvE,KAAO,IAAOa,EAAQ,CAAC,KAAMwD,EAAMZ,KAAMzD,KAChDuE,EAAOtE,KAAOR,EACd8E,EAAOd,GAAKY,EAAMZ,GAClBc,EAAO3E,MAAQ,IAAOiB,EAAQ,CAAC,KAAMwD,EAAMZ,KAAK7D,MAEhD4C,EAAYgB,KAAKe,SAMnBX,QAAQC,IAAIrB,EAAY,iBACxBnB,GAAW,kBAAM,IAAU,IAAY,IAASmB,EAAa,CAAC,SAAUtB,GAAQ,CAAC,QAAS,CAAC,YAC3FK,GAAY,kBAAM,IAAU,IAAY,IAASiB,EAAa,CAAC,UAAWtB,GAAQ,CAAC,SAAU,CAAC,YAE9FO,GAAa,kBAAM,IAAU,IAAY,IAASe,EAAa,CAAC,aAActB,GAAQ,CAAC,YAAa,CAAC,YACrGS,GAAgB,kBAAM,IAAO,IAASa,EAAa,CAAC,aAActB,MAElEW,GAAoB,kBAAM,IAAU,IAAY,IAASW,EAAa,CAAC,iBAAkBtB,GAAQ,CAAC,gBAAiB,CAAC,YACpHa,GAAuB,kBAAM,IAAO,IAASS,EAAa,CAAC,iBAAkBtB,MAE7Ee,GAAgB,kBAAM,IAAU,IAAY,IAASO,EAAa,CAAC,cAAetB,GAAQ,CAAC,aAAc,CAAC,YAC1GiB,GAAmB,kBAAM,IAAO,IAASK,EAAa,CAAC,cAAetB,MAEtEmB,GAAsB,kBAAM,IAAU,IAAY,IAASD,EAAoB,CAAC,eAAgBlB,GAAQ,CAAC,cAAe,CAAC,YACzHqB,GAAsB,kBAAM,IAAU,IAAY,IAASD,EAAoB,CAAC,eAAgBpB,GAAQ,CAAC,cAAe,CAAC,cAEvH,CAACA,IAGF,kBAAC,IAAD,KACC,0BAAMjC,UAAU,mBACf,kBAAC,IAAD,CAAYC,MAAM,mBAClB,yBAAKD,UAAU,aACb,yBAAKA,UAAU,eACd,4DACA,4BAAQA,UAAU,eAAewE,GAAG,eAAegB,SAAU,SAACC,GAAOvD,EAAUuD,EAAE3E,OAAO4E,SACvF,4BAAQA,MAAM,MAAd,MACA,4BAAQA,MAAM,MAAd,MACA,4BAAQA,MAAM,MAAd,MACA,4BAAQA,MAAM,MAAd,QAGF,yBAAK1F,UAAU,aACd,yBAAKA,UAAU,OACd,kBAAC,EAAD,CAAcG,KAAMgC,EAASjC,MAAM,OAAOD,MAAM,cAChD,kBAAC,EAAD,CAAcE,KAAMkC,EAAUnC,MAAM,QAAQD,MAAM,gBAEnD,yBAAKD,UAAU,YACd,kBAAC,EAAD,CAAcG,KAAMoC,EAAWrC,MAAM,SAASD,MAAM,gBACpD,kBAAC,EAAD,CAAcE,KAAMsC,EAAcvC,MAAM,SAASD,MAAM,iBAExD,yBAAKD,UAAU,YACd,kBAAC,EAAD,CAAcG,KAAMwC,EAAkBzC,MAAM,SAASD,MAAM,wBAC3D,kBAAC,EAAD,CAAcE,KAAM0C,EAAqB3C,MAAM,SAASD,MAAM,yBAE/D,yBAAKD,UAAU,YACd,kBAAC,EAAD,CAAcG,KAAM4C,EAAc7C,MAAM,SAASD,MAAM,yBACvD,kBAAC,EAAD,CAAcE,KAAM8C,EAAiB/C,MAAM,SAASD,MAAM,0BAE3D,yBAAKD,UAAU,YACd,kBAAC,EAAD,CAAcG,KAAMgD,EAAoBjD,MAAM,QAAQD,MAAM,yCAC5D,kBAAC,EAAD,CAAcE,KAAMkD,EAAoBnD,MAAM,QAAQD,MAAM,0CAG9D,yBAAKD,UAAU,sC,qBCtLvB,IAAI2F,EAAe,EAAQ,QACvBC,EAAS,EAAQ,QACjBC,EAAe,EAAQ,QA+B3BC,EAAOC,QANP,SAAeC,EAAOC,GACpB,OAAQD,GAASA,EAAME,OACnBP,EAAaK,EAAOH,EAAaI,EAAU,GAAIL,QAC/CO,I,qBC9BN,IAAIC,EAAW,EAAQ,QAoBvBN,EAAOC,QAPP,SAAwBM,EAAYC,EAAQL,EAAUM,GAIpD,OAHAH,EAASC,GAAY,SAASX,EAAOlF,EAAK6F,GACxCC,EAAOC,EAAab,EAAOO,EAASP,GAAQW,MAEvCE,I,qBCjBT,IAAIC,EAAkB,EAAQ,QAC1BC,EAAiB,EAAQ,QACzBZ,EAAe,EAAQ,QACvBa,EAAU,EAAQ,QAmBtBZ,EAAOC,QATP,SAA0BO,EAAQK,GAChC,OAAO,SAASN,EAAYJ,GAC1B,IAAIW,EAAOF,EAAQL,GAAcG,EAAkBC,EAC/CF,EAAcI,EAAcA,IAAgB,GAEhD,OAAOC,EAAKP,EAAYC,EAAQT,EAAaI,EAAU,GAAIM,M,mBCL/DT,EAAOC,QAJP,SAAgBL,EAAOmB,GACrB,OAAOnB,EAAQmB,I,8CCVjB,IAAIC,EAAkB,EAAQ,QAC1BC,EAAmB,EAAQ,QAM3BC,EAHchD,OAAOiD,UAGQD,eAyB7BE,EAAUH,GAAiB,SAASI,EAAQzB,EAAOlF,GACjDwG,EAAeI,KAAKD,EAAQ3G,GAC9B2G,EAAO3G,GAAK+D,KAAKmB,GAEjBoB,EAAgBK,EAAQ3G,EAAK,CAACkF,OAIlCI,EAAOC,QAAUmB,G,qBCxCjB,IAAIG,EAAW,EAAQ,QA+BvBvB,EAAOC,QAnBP,SAAsBC,EAAOC,EAAUqB,GAIrC,IAHA,IAAIC,GAAS,EACTrB,EAASF,EAAME,SAEVqB,EAAQrB,GAAQ,CACvB,IAAIR,EAAQM,EAAMuB,GACdC,EAAUvB,EAASP,GAEvB,GAAe,MAAX8B,SAAiCrB,IAAbsB,EACfD,GAAYA,IAAYH,EAASG,GAClCF,EAAWE,EAASC,IAE1B,IAAIA,EAAWD,EACXL,EAASzB,EAGjB,OAAOyB,I,qBC5BT,IAAIxB,EAAe,EAAQ,QACvBE,EAAe,EAAQ,QACvB6B,EAAS,EAAQ,QA+BrB5B,EAAOC,QANP,SAAeC,EAAOC,GACpB,OAAQD,GAASA,EAAME,OACnBP,EAAaK,EAAOH,EAAaI,EAAU,GAAIyB,QAC/CvB,I,qBC9BN,IAAIwB,EAAiB,EAAQ,QAwB7B7B,EAAOC,QAbP,SAAyB6B,EAAQpH,EAAKkF,GACzB,aAAPlF,GAAsBmH,EACxBA,EAAeC,EAAQpH,EAAK,CAC1B,cAAgB,EAChB,YAAc,EACd,MAASkF,EACT,UAAY,IAGdkC,EAAOpH,GAAOkF,I,mBCPlBI,EAAOC,QAJP,SAAgBL,EAAOmB,GACrB,OAAOnB,EAAQmB,I,mBCWjBf,EAAOC,QAXP,SAAyBC,EAAOM,EAAQL,EAAUM,GAIhD,IAHA,IAAIgB,GAAS,EACTrB,EAAkB,MAATF,EAAgB,EAAIA,EAAME,SAE9BqB,EAAQrB,GAAQ,CACvB,IAAIR,EAAQM,EAAMuB,GAClBjB,EAAOC,EAAab,EAAOO,EAASP,GAAQM,GAE9C,OAAOO","file":"component---src-pages-seasonrecords-js-06f229f8c32615f1fde1.js","sourcesContent":["import React from 'react';\r\n\r\nimport './_season-record.scss';\r\n\r\nconst SeasonRecord = (props) =>\r\n  (<div className=\"col-lg-6 records\">\r\n    <div className=\"row mx-lg-2 mb-5 mb-lg-2 clippedbox--color-dark-small text-center\">\r\n      <h2 className=\"heading--gray my-4 col-12\">{props.title}</h2>\r\n      <div className=\"col-6 px-0 mb-1\">\r\n        <p className=\"heading--gray\">Team</p>\r\n      </div>\r\n      <div className=\"col-3 px-0\">\r\n        <p className=\"heading--gray\">Year</p>\r\n      </div>\r\n      <div className=\"col-3 px-0\">\r\n        <p className=\"heading--gray\">{props.label}</p>\r\n      </div>\r\n        {props.data.map((item, i) =>(\r\n          <React.Fragment key={i}>\r\n            <div className=\"col-12 alt\">\r\n              <div className=\"row flex-center\">\r\n            <div className=\"col-6 flex-center pr-0\">\r\n              <p  className=\"rank-number\">{i + 1}</p>\r\n                  <img alt=\"team-logo\" src={item.image} className=\"image\" onError={function (ev) { \r\n                    ev.target.src = \"https://fantasy-franchise.com/img/DEF.png\";\r\n                    }} />\r\n              <p>{item.name}</p>\r\n            </div>\r\n            <div className=\"col-3 px-0 text-center\">\r\n              <p>{item.year}</p>\r\n            </div>\r\n            <div className= \"col-3 px-0 text-center\">\r\n            {props.label === \"Wins\" && <p>{item.wins}</p>}\r\n            {props.label === \"Loses\" && <p>{item.loses}</p>}\r\n            {props.title === \"Most Points\" && <p>{item.scoreFor}</p>}\r\n            {props.title === \"Less Points\" && <p>{item.scoreFor}</p>}\r\n            {props.title === \"Most Points Agaisnt\" && <p>{item.scoreAgaisnt}</p>}\r\n            {props.title === \"Less Points Agaisnt\" && <p>{item.scoreAgaisnt}</p>}\r\n            {props.title === \"Most Points Avg/Game\" && <p>{item.avgPoints}</p>}\r\n            {props.title === \"Less Points Avg/Game\" && <p>{item.avgPoints}</p>}\r\n            {props.title === \"Most times highest score in the week\" && <p>{item.scoreTimes}</p>}\r\n            {props.title === \"Most times lowest score in the week\" && <p>{item.scoreTimes}</p>}\r\n          \r\n            </div>\r\n              </div>\r\n            </div>\r\n          </React.Fragment>\r\n        ))}\r\n      </div>\r\n    </div>);\r\n\r\nexport default SeasonRecord;\r\n","import _ from 'lodash';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { graphql } from 'gatsby';\r\nimport Layout from \"../components/layout\";\r\nimport Breadcrumb from '../components/breadcrumb';\r\nimport SeasonRecord from '../components/SeasonRecord';\r\nimport { seasonOutcome, gamesByOwnerFunc, scoresOwners, weekOutcome } from '../helpers/game';\r\n\r\nconst SeasonRecords = (query) => {\r\n\t\t// Get GraphlQL data\r\n\t\tconst games = query.data.allGamesJson.nodes;\r\n\t\tconst owners = query.data.allOwnersJson.nodes;\r\n\r\n\t\tconst [yearLabels] = useState([...new Set(games.map(item => item.year))].reverse());\r\n\t\tconst [items, setItems] = useState(10);\r\n\t\tconst [topWins, setTopWins] = useState([]);\r\n\t\tconst [topLoses, setTopLoses] = useState([]);\r\n\t\tconst [topScores, setTopScores] = useState([]);\r\n\t\tconst [bottomScores, setBottomScores] = useState([]);\r\n\t\tconst [topScoresAgaisnt, setTopScoresAgaisnt] = useState([]);\r\n\t\tconst [bottomScoresAgaisnt, setBottomScoresAgaisnt] = useState([]);\r\n\t\tconst [topPCT, setTopPCT] = useState([]);\r\n\t\tconst [topAVGPoints, setTopAVGPoints] = useState([]);\r\n\t\tconst [bottomAVGPoints, setBottomAVGPoints] = useState([]);\r\n\t\tconst [maxScoreWeekSeason, setMaxScoreWeekSeason] = useState([]);\r\n\t\tconst [minScoreWeekSeason, setMinScoreWeekSeason] = useState([]);\r\n\r\n\t\tconst seasonStats = [];\r\n\t\tconst maxScoreWeekSeasonTemp = [];\r\n\t\tconst minScoreWeekSeasonTemp = [];\r\n\r\n\t\tuseEffect(() => {\r\n\t\t\t\r\n\t\t\t// Filtramos los juegos para tener todos los juegos por owner\r\n\t\t\tconst gamesByOwners = gamesByOwnerFunc(games);\r\n\r\n\t\t\t//Get array with just scores for each Owner\r\n\t\t\tconst scoresByOwner= scoresOwners(games);\r\n\r\n\t\t\t//Order by year and week so I can get the top week score etc\r\n\t\t\tconst scoresYearsWeeks = _.groupBy(scoresByOwner, (game) => {\r\n\t\t\t\treturn [game['year'], game['week']];\r\n\t\t\t});\r\n\r\n\r\n\t\t\t// Get the max and min points in the week running the object.\r\n\t\t\tconst seasonWeekStats = [];\r\n\t\t\tObject.keys(scoresYearsWeeks).forEach(key => {\r\n\t\t\t\tconst maxScoresWeek = _.maxBy(scoresYearsWeeks[key], function(o) {\r\n\t\t\t\t\treturn o.score;\r\n\t\t\t\t});\r\n\t\t\t\tconst minScoresWeek = _.minBy(scoresYearsWeeks[key], function(o) {\r\n\t\t\t\t\treturn o.score;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tseasonWeekStats.push({\r\n\t\t\t\t\tmaxScoresWeek: maxScoresWeek.id,\r\n\t\t\t\t\tminScoresWeek: minScoresWeek.id,\r\n\t\t\t\t\tyear: maxScoresWeek.year\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\t// Group by Year so I can get the number of times each person got each stat\r\n\t\t\tconst seasonWeekYearStats = _.groupBy(seasonWeekStats, (week) => {\r\n\t\t\t\treturn [week['year']];\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log(seasonWeekYearStats,\"seasonWeekYearStats\")\r\n\r\n\t\t\tObject.keys(seasonWeekYearStats).forEach(year => {\r\n\t\t\t\tconst countMaxScore = {};\r\n\t\t\t\tconst countMinScore = {};\r\n\t\t\t\t// Run the object and use a map to sum how many times each owner has got the stat\r\n\t\t\t\tseasonWeekYearStats[year].forEach(element => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tcountMaxScore[element.maxScoresWeek] = (countMaxScore[element.maxScoresWeek] || 0) + 1;\r\n\t\t\t\t\tcountMinScore[element.minScoresWeek] = (countMinScore[element.minScoresWeek] || 0) + 1;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconsole.log(countMaxScore,\"countMaxScore\")\r\n\t\t\t\tconst maxEntries = Object.entries(countMaxScore);\r\n\t\t\t\tmaxEntries.forEach( ([ownerID, val] ) => {\r\n\t\t\t\t\tmaxScoreWeekSeason.push({\r\n\t\t\t\t\t\tscoreOwner: ownerID,\r\n\t\t\t\t\t\tscoreTimes: val,\r\n\t\t\t\t\t\tname :_.find(owners, ['id', ownerID ]).name,\r\n\t\t\t\t\t\timage : _.find(owners, ['id', ownerID]).image,\r\n\t\t\t\t\t\tyear\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconsole.log(countMinScore,\"countMinScore\")\r\n\t\t\t\tconst minEntries = Object.entries(countMinScore);\r\n\t\t\t\tminEntries.forEach( ([ownerID, val] ) => {\r\n\t\t\t\t\tminScoreWeekSeason.push({\r\n\t\t\t\t\t\tscoreOwner: ownerID,\r\n\t\t\t\t\t\tscoreTimes: val,\r\n\t\t\t\t\t\tname :_.find(owners, ['id', ownerID ]).name,\r\n\t\t\t\t\t\timage : _.find(owners, ['id', ownerID]).image,\r\n\t\t\t\t\t\tyear\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tgamesByOwners.forEach((owner) => {\r\n\t\t\t\t\r\n\t\t\t\t//Agrupamos los juegos por owners de cada owner por year para tener cada season\r\n\t\t\t\tconst gamesOwnersYears = _.groupBy(owner.games, (game) => {\r\n\t\t\t\t\treturn [game['year']];\r\n\t\t\t\t});\r\n\r\n\t\t\t\t//console.log(gamesOwnersYears,\"gamesOwnersYears\")\r\n\r\n\t\t\t\t//Recorremos el objecto de cada season y lo pasamos por el season outcome para obtener todos los stats de ese season\r\n\t\t\t\tObject.keys(gamesOwnersYears).forEach(key => {\r\n\t\t\t\t\tlet season = seasonOutcome(gamesOwnersYears[key],owner.id);\r\n\t\t\t\t\t\r\n\t\t\t\t\tseason.name = _.find(owners, ['id', owner.id ]).name;\r\n\t\t\t\t\tseason.year = key;\r\n\t\t\t\t\tseason.id = owner.id;\r\n\t\t\t\t\tseason.image = _.find(owners, ['id', owner.id]).image;\r\n\t\t\t\t\t\r\n\t\t\t\t\tseasonStats.push(season);\r\n\t\t\t\t});\r\n\r\n\t\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log(seasonStats,\"seasonstats  \")\r\n\t\t\tsetTopWins(() => _.orderBy(_.takeRight(_.sortBy(seasonStats, ['wins']), items), ['wins'], ['desc']));\r\n\t\t\tsetTopLoses(() => _.orderBy(_.takeRight(_.sortBy(seasonStats, ['loses']), items), ['loses'], ['desc']));\r\n\r\n\t\t\tsetTopScores(() => _.orderBy(_.takeRight(_.sortBy(seasonStats, ['scoreFor']), items), ['scoreFor'], ['desc']));\r\n\t\t\tsetBottomScores(() => _.take(_.sortBy(seasonStats, ['scoreFor']), items)); \r\n\r\n\t\t\tsetTopScoresAgaisnt(() => _.orderBy(_.takeRight(_.sortBy(seasonStats, ['scoreAgaisnt']), items), ['scoreAgaisnt'], ['desc']));\r\n\t\t\tsetBottomScoresAgaisnt(() => _.take(_.sortBy(seasonStats, ['scoreAgaisnt']), items)); \r\n\r\n\t\t\tsetTopAVGPoints(() => _.orderBy(_.takeRight(_.sortBy(seasonStats, ['avgPoints']), items), ['avgPoints'], ['desc']));\r\n\t\t\tsetBottomAVGPoints(() => _.take(_.sortBy(seasonStats, ['avgPoints']), items)); \r\n\r\n\t\t\tsetMaxScoreWeekSeason(() => _.orderBy(_.takeRight(_.sortBy(maxScoreWeekSeason, ['scoreTimes']), items), ['scoreTimes'], ['desc']));\r\n\t\t\tsetMinScoreWeekSeason(() => _.orderBy(_.takeRight(_.sortBy(minScoreWeekSeason, ['scoreTimes']), items), ['scoreTimes'], ['desc']));\r\n\t\r\n\t\t}, [items]);\r\n\t\r\n\t\treturn (\r\n\t\t\t\t<Layout >\r\n\t\t\t\t\t<main className=\"container-fluid\">\r\n\t\t\t\t\t\t<Breadcrumb title=\"Season Records\"/>\r\n\t\t\t\t\t\t<div className=\"card mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\"> \r\n\t\t\t\t\t\t\t\t\t<label>Number of Records to show</label>\r\n\t\t\t\t\t\t\t\t\t<select className=\"form-control\" id=\"itemSelector\" onChange={(e) => {setItems( e.target.value)}}>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"10\">10</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"15\">15</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"20\">20</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value=\"25\">25</option>\t\t\t\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<SeasonRecord data={topWins} label=\"Wins\" title=\"Most Wins\"  />\r\n\t\t\t\t\t\t\t\t\t\t<SeasonRecord data={topLoses} label=\"Loses\" title=\"Most Loses\"  />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row my-4\">\r\n\t\t\t\t\t\t\t\t\t\t<SeasonRecord data={topScores} label=\"Points\" title=\"Most Points\"  />\r\n\t\t\t\t\t\t\t\t\t\t<SeasonRecord data={bottomScores} label=\"Points\" title=\"Less Points\"  />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row my-4\">\r\n\t\t\t\t\t\t\t\t\t\t<SeasonRecord data={topScoresAgaisnt} label=\"Points\" title=\"Most Points Agaisnt\"  />\r\n\t\t\t\t\t\t\t\t\t\t<SeasonRecord data={bottomScoresAgaisnt} label=\"Points\" title=\"Less Points Agaisnt\"  />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row my-4\">\r\n\t\t\t\t\t\t\t\t\t\t<SeasonRecord data={topAVGPoints} label=\"Points\" title=\"Most Points Avg/Game\"  />\r\n\t\t\t\t\t\t\t\t\t\t<SeasonRecord data={bottomAVGPoints} label=\"Points\" title=\"Less Points Avg/Game\"  />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row my-4\">\r\n\t\t\t\t\t\t\t\t\t\t<SeasonRecord data={maxScoreWeekSeason} label=\"Times\" title=\"Most times highest score in the week\"  />\r\n\t\t\t\t\t\t\t\t\t\t<SeasonRecord data={minScoreWeekSeason} label=\"Times\" title=\"Most times lowest score in the week\"  />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-footer small text-muted\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</main>\r\n\t\t\t\t</Layout>\r\n\t\t);\r\n\r\n}\r\nexport default SeasonRecords;\r\n\r\nexport const pageQuery = graphql`\r\n{\r\n  allGamesJson {\r\n    nodes {\r\n      id\r\n      year\r\n      winner\r\n      week\r\n      playoffTierType\r\n      team_a {\r\n        logo\r\n        name\r\n        owner\r\n        ownerId\r\n        rank\r\n        score\r\n      }\r\n      team_b {\r\n        logo\r\n        name\r\n        owner\r\n        ownerId\r\n        rank\r\n        score\r\n      } \r\n    }\r\n  }\r\n  allOwnersJson {\r\n    nodes {\r\n      fantasyname\r\n      id\r\n      image\r\n      name\r\n      status\r\n    }\r\n  }\r\n}\r\n`;\r\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.max` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nfunction maxBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt)\n    : undefined;\n}\n\nmodule.exports = maxBy;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","var baseExtremum = require('./_baseExtremum'),\n    baseIteratee = require('./_baseIteratee'),\n    baseLt = require('./_baseLt');\n\n/**\n * This method is like `_.min` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * // The `_.property` iteratee shorthand.\n * _.minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nfunction minBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseLt)\n    : undefined;\n}\n\nmodule.exports = minBy;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nmodule.exports = baseLt;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n"],"sourceRoot":""}