(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{B347:function(e,t,a){},Mrkz:function(e,t,a){},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},pU4R:function(e,t,a){"use strict";a.r(t),a.d(t,"pageQuery",(function(){return E}));var r=a("KQm4"),s=a("dI71"),n=a("LvDl"),o=a.n(n),l=a("q1tI"),i=a.n(l),m=a("Bl7J"),c=a("rMbk"),d=(a("B347"),a("7O5W")),p=a("IP2g"),h=a("wHSu");d.b.add(h.b);var g=function(e){function t(){return e.apply(this,arguments)||this}Object(s.a)(t,e);var a=t.prototype;return a.addDefaultSrcTeamA=function(){document.getElementById("image-team-a").style.backgroundImage="url('https://fantasy-franchise.com/img/DEF.png')"},a.addDefaultSrcTeamB=function(){document.getElementById("image-team-b").style.backgroundImage="url('https://fantasy-franchise.com/img/DEF.png')"},a.render=function(){var e={backgroundImage:"url("+this.props.teama.image+")"},t={backgroundImage:"url("+this.props.teamb.image+")"};return i.a.createElement("div",null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-6"},i.a.createElement("div",{className:"team team-a"},i.a.createElement("div",{className:"totals"},i.a.createElement("img",{src:this.props.teama.image,style:{display:"none"},onError:this.addDefaultSrcTeamA,alt:"team-logo"}),i.a.createElement("div",{id:"image-team-a",className:"image",style:e}),i.a.createElement("select",{className:"form-control team-selector teama",name:"teama",onChange:this.props.triggerhappy},i.a.createElement("option",{value:!0},"Select Red Team"),this.props.owners.map((function(e,t){return"active"===e.status?i.a.createElement("option",{key:e.id,value:e.id},e.fantasyname," (",e.name,")"):i.a.createElement("option",{key:e.id,value:e.id},"Inactive - ",e.fantasyname," (",e.name,")")}))),i.a.createElement(p.a,{icon:"caret-down"}),i.a.createElement("h2",{className:"record"},this.props.teama.record)))),i.a.createElement("div",{className:"col-6"},i.a.createElement("div",{className:"team team-b"},i.a.createElement("div",{className:"totals"},i.a.createElement("img",{src:this.props.teamb.image,style:{display:"none"},onError:this.addDefaultSrcTeamB,alt:"team-logo"}),i.a.createElement("div",{id:"image-team-b",className:"image",style:t}),i.a.createElement("select",{className:"form-control team-selector teamb",name:"teamb",onChange:this.props.triggerhappy},i.a.createElement("option",{value:!0},"Select Blue Team"),this.props.owners.map((function(e,t){return"active"===e.status?i.a.createElement("option",{key:e.id,value:e.id},e.fantasyname," (",e.name,")"):i.a.createElement("option",{key:e.id,value:e.id},"Inactive - ",e.fantasyname," (",e.name,")")}))),i.a.createElement(p.a,{icon:"caret-down"}),i.a.createElement("h2",{className:"record"},this.props.teamb.record))))),i.a.createElement("div",{className:"container-fluid mb-4"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},i.a.createElement("div",{className:"row team-stats "+(this.props.games?"visible":"hidden")},i.a.createElement("div",{className:"col-6"},i.a.createElement("div",null,i.a.createElement("div",{className:"nums"},i.a.createElement("p",null,i.a.createElement("strong",null,"current streak:")," ",this.props.teama.currentstreak),i.a.createElement("p",null,i.a.createElement("strong",null,"highest win streak:")," ",this.props.teama.highestwinstreak),i.a.createElement("p",null,i.a.createElement("strong",null,"Total Points:")," ",this.props.teama.totalPoints),i.a.createElement("p",null,i.a.createElement("strong",null,"Average Points:")," ",(this.props.teama.totalPoints/(this.props.teamb.record+this.props.teama.record)).toFixed(2)),i.a.createElement("p",null,i.a.createElement("strong",null,"Highest Score:")," ",this.props.teama.highestScore),i.a.createElement("p",null,i.a.createElement("strong",null,"Lowest Score:")," ",this.props.teama.lowestScore),i.a.createElement("p",null,i.a.createElement("strong",null,"Biggest Win Margin:"),this.props.teama.highestMargin),i.a.createElement("p",null,i.a.createElement("strong",null,"Smallest Win Margin:")," ",this.props.teama.lowestMargin)))),i.a.createElement("div",{className:"col-6"},i.a.createElement("div",null,i.a.createElement("div",{className:"nums tmb"},i.a.createElement("p",null," ",this.props.teamb.currentstreak),i.a.createElement("p",null,this.props.teamb.highestwinstreak),i.a.createElement("p",null," ",this.props.teamb.totalPoints),i.a.createElement("p",null," ",(this.props.teamb.totalPoints/(this.props.teamb.record+this.props.teama.record)).toFixed(2)),i.a.createElement("p",null," ",this.props.teamb.highestScore),i.a.createElement("p",null," ",this.props.teamb.lowestScore),i.a.createElement("p",null,this.props.teamb.highestMargin),i.a.createElement("p",null," ",this.props.teamb.lowestMargin)))))))))},t}(i.a.Component),u=(a("Mrkz"),function(e){return i.a.createElement("div",{className:"card mb-3"},i.a.createElement("div",{className:"card-header"},i.a.createElement("i",{className:"fas fa-table"}),"Gamelogs"),i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table table-bordered",id:"dataTable",width:"100%",cellSpacing:0},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Date"),i.a.createElement("th",null,"Game"))),i.a.createElement("tbody",null,e.data&&e.data.map((function(e,t){var a=e.team_a[0],r=a.score&&a.score.toFixed&&a.score.toFixed(2)||0,s=e.team_b[0],n=s.score&&s.score.toFixed&&s.score.toFixed(2)||0;return i.a.createElement("tr",{key:e.team_b[0].score+r},i.a.createElement("td",null,e.year,", ",e.week),i.a.createElement("td",null,a.name," ",i.a.createElement("strong",null,r),", ",s.name," ",i.a.createElement("strong",null,n)))})))))))}),w=function(e){function t(t){var a;return(a=e.call(this,t)||this).teamChangeHandler=function(e){var t=Object(r.a)(a.state.owners),s={};"teama"===e.target.name?((s=o.a.find(t,["id",e.target.value])).record="-",a.setState({teamA:s},(function(){return a.matchTeams()}))):((s=o.a.find(t,["id",e.target.value])).record="-",a.setState({teamB:s},(function(){return a.matchTeams()})))},a.matchTeams=function(){if(console.log("Matching teams",a.state),a.state.teamA.id&&a.state.teamB.id){console.log("matched"),a.setState({gamesLength:!0});var e=Object.assign({},a.state.teamA),t=Object.assign({},a.state.teamB),r=[],s=[],n=[];a.state.allGames.forEach((function(a,s){a.team_a[0].ownerId!==e.id&&a.team_a[0].ownerId!==t.id||a.team_b[0].ownerId!==e.id&&a.team_b[0].ownerId!==t.id||r.push(a)})),a.setState({playedGames:r},(function(){return console.log("played games",a.state.playedGames)})),r.forEach((function(a,r){a.team_a[0].ownerId===e.id&&parseFloat(a.team_a[0].score)>parseFloat(a.team_b[0].score)||a.team_b[0].ownerId===e.id&&parseFloat(a.team_b[0].score)>parseFloat(a.team_a[0].score)?s.push(a):(a.team_a[0].ownerId===t.id&&parseFloat(a.team_a[0].score)>parseFloat(a.team_b[0].score)||a.team_b[0].ownerId===t.id&&parseFloat(a.team_b[0].score)>parseFloat(a.team_a[0].score))&&n.push(a)})),e.record=parseInt(s.length),t.record=parseInt(n.length);for(var o=0;o<r.length;o++){var l=r[o].week.split(" ");r[o].date="01/"+l[1]+"/"+parseInt(r[o].year)}r.sort((function(e,t){return(e=new Date(e.date))>(t=new Date(t.date))?-1:e<t?1:0}));var i=function(e,t){var a,r=0,s=0,n=0,o=0,l=1e4,i=1e4,m=e.length,c={highestStreak:0,lowestStreak:0,currentStreak:0,highestScore:0,lowestScore:1e4,highestMargin:0,lowestMargin:1e4,totalPoints:0};for(a=0;a<m;a++)e[a].team_a[0].ownerId===t.id&&parseFloat(e[a].team_a[0].score)>parseFloat(e[a].team_b[0].score)||e[a].team_b[0].ownerId===t.id&&parseFloat(e[a].team_b[0].score)>parseFloat(e[a].team_a[0].score)?(l=parseFloat(e[a].team_a[0].score)-parseFloat(e[a].team_b[0].score),i=parseFloat(e[a].team_b[0].score)-parseFloat(e[a].team_a[0].score),r++,s=0):e[a].team_a[0].ownerId===t.id&&parseFloat(e[a].team_a[0].score)<parseFloat(e[a].team_b[0].score)||e[a].team_b[0].ownerId===t.id&&parseFloat(e[a].team_b[0].score)<parseFloat(e[a].team_a[0].score)?(s++,r=0):(s=0,r=0),c.currentStreak=r,r>c.highestStreak&&(c.highestStreak=r),s>c.lowestStreak&&(c.lowestStreak=s),parseFloat(e[a].team_a[0].score)>c.highestScore&&e[a].team_a[0].ownerId===t.id&&(c.highestScore=parseFloat(e[a].team_a[0].score)),parseFloat(e[a].team_b[0].score)>c.highestScore&&e[a].team_b[0].ownerId===t.id&&(c.highestScore=parseFloat(e[a].team_b[0].score)),parseFloat(e[a].team_a[0].score)<c.lowestScore&&e[a].team_a[0].ownerId===t.id&&(c.lowestScore=parseFloat(e[a].team_a[0].score)),parseFloat(e[a].team_b[0].score)<c.lowestScore&&e[a].team_b[0].ownerId===t.id&&(c.lowestScore=parseFloat(e[a].team_b[0].score)),n=parseFloat(e[a].team_a[0].score)-parseFloat(e[a].team_b[0].score),o=parseFloat(e[a].team_b[0].score)-parseFloat(e[a].team_a[0].score),n>c.highestMargin&&e[a].team_a[0].ownerId===t.id&&(c.highestMargin=n),o>c.highestMargin&&e[a].team_b[0].ownerId===t.id&&(c.highestMargin=o),l<c.lowestMargin&&e[a].team_a[0].ownerId===t.id&&l>0&&(c.lowestMargin=l),i<c.lowestMargin&&e[a].team_b[0].ownerId===t.id&&i>0&&(c.lowestMargin=i),e[a].team_a[0].ownerId===t.id&&(c.totalPoints+=parseFloat(e[a].team_a[0].score)),e[a].team_b[0].ownerId===t.id&&(c.totalPoints+=parseFloat(e[a].team_b[0].score));return c},m=i(r.slice(0).reverse(),e);e.currentstreak=m.currentStreak,e.highestwinstreak=m.highestStreak,e.highestlosestreak=m.lowestStreak,e.highestScore=m.highestScore.toFixed(2),1e4===m.lowestScore?e.lowestScore=0:e.lowestScore=m.lowestScore.toFixed(2),e.highestMargin=m.highestMargin.toFixed(2),1e4===m.lowestMargin?e.lowestMargin=0:e.lowestMargin=m.lowestMargin.toFixed(2),e.totalPoints=m.totalPoints.toFixed(2);var c=i(r.slice(0).reverse(),t);t.currentstreak=c.currentStreak,t.highestwinstreak=c.highestStreak,t.highestlosestreak=c.lowestStreak,t.highestScore=c.highestScore.toFixed(2),1e4===c.lowestScore?t.lowestScore=0:t.lowestScore=c.lowestScore.toFixed(2),t.highestMargin=c.highestMargin.toFixed(2),1e4===c.lowestMargin?t.lowestMargin=0:t.lowestMargin=c.lowestMargin.toFixed(2),t.totalPoints=c.totalPoints.toFixed(2),a.setState({teamA:e}),a.setState({teamB:t},(function(){return console.log("teamssss",e,t)}))}else console.log("no match"),a.setState({gamesLength:!1}),a.setState({playedGames:[]})},a.allGames=[],a.initialTeam={record:"-",name:"",ownerId:"",image:"https://fantasy-franchise.com/img/DEF.png",currentstreak:"",highestwinstreak:"",highestlosestreak:"",totalpoints:"",netpoints:"",hightestscore:"",lowestscore:"",biggestwinmargin:"",smallestwinmargin:""},a.state={owners:Object(r.a)(t.data.allDataJson.edges[0].node.owners),teamA:Object.assign({},a.initialTeam),teamB:Object.assign({},a.initialTeam),gamesLength:!1},a.playedGames=[],a}Object(s.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=this.props.data.allDataJson.edges[0].node.years,t=this.props.data.allDataJson.edges[0].node.owners,a=[];e.forEach((function(e){e.weeks_games.forEach((function(e){a.push.apply(a,Object(r.a)(e.games))}))})),this.setState({owners:t}),this.setState({allGames:a})},a.render=function(){var e=this;return i.a.createElement(m.a,null,i.a.createElement("main",{className:"container-fluid headtohead"},i.a.createElement(c.a,{title:"Head to Head"}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-7"},i.a.createElement(g,{owners:this.state.owners,triggerhappy:function(t){return e.teamChangeHandler(t)},teama:this.state.teamA,teamb:this.state.teamB,games:this.state.gamesLength})),i.a.createElement("div",{className:"col-lg-5"},i.a.createElement(u,{data:this.state.playedGames})))))},t}(i.a.Component),E=(t.default=w,"3007851471")}}]);
//# sourceMappingURL=component---src-pages-headtohead-js-182352686446a3dd05fa.js.map