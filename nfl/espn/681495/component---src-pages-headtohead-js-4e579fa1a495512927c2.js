(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{pU4R:function(e,t,a){"use strict";a.r(t);a("YbXK"),a("cFtU"),a("q8oJ"),a("8npG"),a("m210"),a("4DPX"),a("rzGZ"),a("zGcK"),a("HQhv"),a("E5k/"),a("v9g0"),a("pJf4");var r=a("LvDl"),s=a.n(r),o=a("q1tI"),n=a.n(o),l=a("Bl7J"),i=a("rMbk"),m=(a("B347"),a("7O5W")),c=a("IP2g"),p=a("wHSu");m.b.add(p.b);var d=function(e){var t,a;function r(){return e.apply(this,arguments)||this}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var s=r.prototype;return s.addDefaultSrcTeamA=function(){document.getElementById("image-team-a").style.backgroundImage="url('https://fantasy-franchise.com/img/DEF.png')"},s.addDefaultSrcTeamB=function(){document.getElementById("image-team-b").style.backgroundImage="url('https://fantasy-franchise.com/img/DEF.png')"},s.render=function(){var e={backgroundImage:"url("+this.props.teama.image+")"},t={backgroundImage:"url("+this.props.teamb.image+")"};return n.a.createElement("div",null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6"},n.a.createElement("div",{className:"team team-a"},n.a.createElement("div",{className:"totals"},n.a.createElement("img",{src:this.props.teama.image,style:{display:"none"},onError:this.addDefaultSrcTeamA,alt:"team-logo"}),n.a.createElement("div",{id:"image-team-a",className:"image",style:e}),n.a.createElement("select",{className:"form-control team-selector teama",name:"teama",onChange:this.props.triggerhappy},n.a.createElement("option",{value:!0},"Select Red Team"),this.props.owners.map((function(e,t){return"active"===e.status?n.a.createElement("option",{key:e.id,value:e.id},e.fantasyname," (",e.name,")"):n.a.createElement("option",{key:e.id,value:e.id},"Inactive - ",e.fantasyname," (",e.name,")")}))),n.a.createElement(c.a,{icon:"caret-down"}),n.a.createElement("h2",{className:"record"},this.props.teama.record)))),n.a.createElement("div",{className:"col-6"},n.a.createElement("div",{className:"team team-b"},n.a.createElement("div",{className:"totals"},n.a.createElement("img",{src:this.props.teamb.image,style:{display:"none"},onError:this.addDefaultSrcTeamB,alt:"team-logo"}),n.a.createElement("div",{id:"image-team-b",className:"image",style:t}),n.a.createElement("select",{className:"form-control team-selector teamb",name:"teamb",onChange:this.props.triggerhappy},n.a.createElement("option",{value:!0},"Select Blue Team"),this.props.owners.map((function(e,t){return"active"===e.status?n.a.createElement("option",{key:e.id,value:e.id},e.fantasyname," (",e.name,")"):n.a.createElement("option",{key:e.id,value:e.id},"Inactive - ",e.fantasyname," (",e.name,")")}))),n.a.createElement(c.a,{icon:"caret-down"}),n.a.createElement("h2",{className:"record"},this.props.teamb.record))))),n.a.createElement("div",{className:"container-fluid mb-4"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("div",{className:"row team-stats "+(this.props.games?"visible":"hidden")},n.a.createElement("div",{className:"col-6"},n.a.createElement("div",null,n.a.createElement("div",{className:"nums"},n.a.createElement("p",null,n.a.createElement("strong",null,"current streak:")," ",this.props.teama.currentstreak),n.a.createElement("p",null,n.a.createElement("strong",null,"highest win streak:")," ",this.props.teama.highestwinstreak),n.a.createElement("p",null,n.a.createElement("strong",null,"Total Points:")," ",this.props.teama.totalPoints),n.a.createElement("p",null,n.a.createElement("strong",null,"Average Points:")," ",(this.props.teama.totalPoints/(this.props.teamb.record+this.props.teama.record)).toFixed(2)),n.a.createElement("p",null,n.a.createElement("strong",null,"Highest Score:")," ",this.props.teama.highestScore),n.a.createElement("p",null,n.a.createElement("strong",null,"Lowest Score:")," ",this.props.teama.lowestScore),n.a.createElement("p",null,n.a.createElement("strong",null,"Biggest Win Margin:"),this.props.teama.highestMargin),n.a.createElement("p",null,n.a.createElement("strong",null,"Smallest Win Margin:")," ",this.props.teama.lowestMargin)))),n.a.createElement("div",{className:"col-6"},n.a.createElement("div",null,n.a.createElement("div",{className:"nums tmb"},n.a.createElement("p",null," ",this.props.teamb.currentstreak),n.a.createElement("p",null,this.props.teamb.highestwinstreak),n.a.createElement("p",null," ",this.props.teamb.totalPoints),n.a.createElement("p",null," ",(this.props.teamb.totalPoints/(this.props.teamb.record+this.props.teama.record)).toFixed(2)),n.a.createElement("p",null," ",this.props.teamb.highestScore),n.a.createElement("p",null," ",this.props.teamb.lowestScore),n.a.createElement("p",null,this.props.teamb.highestMargin),n.a.createElement("p",null," ",this.props.teamb.lowestMargin)))))))))},r}(n.a.Component),h=(a("Mrkz"),function(e){return n.a.createElement("div",{className:"card mb-3"},n.a.createElement("div",{className:"card-header"},n.a.createElement("i",{className:"fas fa-table"}),"Gamelogs"),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-bordered",id:"dataTable",width:"100%",cellSpacing:0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Game"))),n.a.createElement("tbody",null,e.data&&e.data.map((function(e,t){var a=e.team_a[0],r=a.score&&a.score.toFixed&&a.score.toFixed(2)||0,s=e.team_b[0],o=s.score&&s.score.toFixed&&s.score.toFixed(2)||0;return n.a.createElement("tr",{key:e.team_b[0].score+r},n.a.createElement("td",null,e.year,", ",e.week),n.a.createElement("td",null,a.name," ",n.a.createElement("strong",null,r),", ",s.name," ",n.a.createElement("strong",null,o)))})))))))});function g(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.d(t,"pageQuery",(function(){return w}));var u=function(e){var t,a;function r(t){var a;return(a=e.call(this,t)||this).teamChangeHandler=function(e){var t=g(a.state.owners),r={};"teama"===e.target.name?((r=s.a.find(t,["id",e.target.value])).record="-",a.setState({teamA:r},(function(){return a.matchTeams()}))):((r=s.a.find(t,["id",e.target.value])).record="-",a.setState({teamB:r},(function(){return a.matchTeams()})))},a.matchTeams=function(){if(console.log("Matching teams",a.state),a.state.teamA.id&&a.state.teamB.id){console.log("matched"),a.setState({gamesLength:!0});var e=Object.assign({},a.state.teamA),t=Object.assign({},a.state.teamB),r=[],s=[],o=[];a.state.allGames.forEach((function(a,s){a.team_a[0].ownerId!==e.id&&a.team_a[0].ownerId!==t.id||a.team_b[0].ownerId!==e.id&&a.team_b[0].ownerId!==t.id||r.push(a)})),a.setState({playedGames:r},(function(){return console.log("played games",a.state.playedGames)})),r.forEach((function(a,r){a.team_a[0].ownerId===e.id&&parseFloat(a.team_a[0].score)>parseFloat(a.team_b[0].score)||a.team_b[0].ownerId===e.id&&parseFloat(a.team_b[0].score)>parseFloat(a.team_a[0].score)?s.push(a):(a.team_a[0].ownerId===t.id&&parseFloat(a.team_a[0].score)>parseFloat(a.team_b[0].score)||a.team_b[0].ownerId===t.id&&parseFloat(a.team_b[0].score)>parseFloat(a.team_a[0].score))&&o.push(a)})),e.record=parseInt(s.length),t.record=parseInt(o.length);for(var n=0;n<r.length;n++){var l=r[n].week.split(" ");r[n].date="01/"+l[1]+"/"+parseInt(r[n].year)}r.sort((function(e,t){return(e=new Date(e.date))>(t=new Date(t.date))?-1:e<t?1:0}));var i=function(e,t){var a,r=0,s=0,o=0,n=0,l=1e4,i=1e4,m=e.length,c={highestStreak:0,lowestStreak:0,currentStreak:0,highestScore:0,lowestScore:1e4,highestMargin:0,lowestMargin:1e4,totalPoints:0};for(a=0;a<m;a++)e[a].team_a[0].ownerId===t.id&&parseFloat(e[a].team_a[0].score)>parseFloat(e[a].team_b[0].score)||e[a].team_b[0].ownerId===t.id&&parseFloat(e[a].team_b[0].score)>parseFloat(e[a].team_a[0].score)?(l=parseFloat(e[a].team_a[0].score)-parseFloat(e[a].team_b[0].score),i=parseFloat(e[a].team_b[0].score)-parseFloat(e[a].team_a[0].score),r++,s=0):e[a].team_a[0].ownerId===t.id&&parseFloat(e[a].team_a[0].score)<parseFloat(e[a].team_b[0].score)||e[a].team_b[0].ownerId===t.id&&parseFloat(e[a].team_b[0].score)<parseFloat(e[a].team_a[0].score)?(s++,r=0):(s=0,r=0),c.currentStreak=r,r>c.highestStreak&&(c.highestStreak=r),s>c.lowestStreak&&(c.lowestStreak=s),parseFloat(e[a].team_a[0].score)>c.highestScore&&e[a].team_a[0].ownerId===t.id&&(c.highestScore=parseFloat(e[a].team_a[0].score)),parseFloat(e[a].team_b[0].score)>c.highestScore&&e[a].team_b[0].ownerId===t.id&&(c.highestScore=parseFloat(e[a].team_b[0].score)),parseFloat(e[a].team_a[0].score)<c.lowestScore&&e[a].team_a[0].ownerId===t.id&&(c.lowestScore=parseFloat(e[a].team_a[0].score)),parseFloat(e[a].team_b[0].score)<c.lowestScore&&e[a].team_b[0].ownerId===t.id&&(c.lowestScore=parseFloat(e[a].team_b[0].score)),o=parseFloat(e[a].team_a[0].score)-parseFloat(e[a].team_b[0].score),n=parseFloat(e[a].team_b[0].score)-parseFloat(e[a].team_a[0].score),o>c.highestMargin&&e[a].team_a[0].ownerId===t.id&&(c.highestMargin=o),n>c.highestMargin&&e[a].team_b[0].ownerId===t.id&&(c.highestMargin=n),l<c.lowestMargin&&e[a].team_a[0].ownerId===t.id&&l>0&&(c.lowestMargin=l),i<c.lowestMargin&&e[a].team_b[0].ownerId===t.id&&i>0&&(c.lowestMargin=i),e[a].team_a[0].ownerId===t.id&&(c.totalPoints+=parseFloat(e[a].team_a[0].score)),e[a].team_b[0].ownerId===t.id&&(c.totalPoints+=parseFloat(e[a].team_b[0].score));return c},m=i(r.slice(0).reverse(),e);e.currentstreak=m.currentStreak,e.highestwinstreak=m.highestStreak,e.highestlosestreak=m.lowestStreak,e.highestScore=m.highestScore.toFixed(2),1e4===m.lowestScore?e.lowestScore=0:e.lowestScore=m.lowestScore.toFixed(2),e.highestMargin=m.highestMargin.toFixed(2),1e4===m.lowestMargin?e.lowestMargin=0:e.lowestMargin=m.lowestMargin.toFixed(2),e.totalPoints=m.totalPoints.toFixed(2);var c=i(r.slice(0).reverse(),t);t.currentstreak=c.currentStreak,t.highestwinstreak=c.highestStreak,t.highestlosestreak=c.lowestStreak,t.highestScore=c.highestScore.toFixed(2),1e4===c.lowestScore?t.lowestScore=0:t.lowestScore=c.lowestScore.toFixed(2),t.highestMargin=c.highestMargin.toFixed(2),1e4===c.lowestMargin?t.lowestMargin=0:t.lowestMargin=c.lowestMargin.toFixed(2),t.totalPoints=c.totalPoints.toFixed(2),a.setState({teamA:e}),a.setState({teamB:t},(function(){return console.log("teamssss",e,t)}))}else console.log("no match"),a.setState({gamesLength:!1}),a.setState({playedGames:[]})},a.allGames=[],a.initialTeam={record:"-",name:"",ownerId:"",image:"https://fantasy-franchise.com/img/DEF.png",currentstreak:"",highestwinstreak:"",highestlosestreak:"",totalpoints:"",netpoints:"",hightestscore:"",lowestscore:"",biggestwinmargin:"",smallestwinmargin:""},a.state={owners:g(t.data.allDataJson.edges[0].node.owners),teamA:Object.assign({},a.initialTeam),teamB:Object.assign({},a.initialTeam),gamesLength:!1},a.playedGames=[],a}a=e,(t=r).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var o=r.prototype;return o.componentDidMount=function(){var e=this.props.data.allDataJson.edges[0].node.years,t=this.props.data.allDataJson.edges[0].node.owners,a=[];e.forEach((function(e){e.weeks_games.forEach((function(e){a.push.apply(a,g(e.games))}))})),this.setState({owners:t}),this.setState({allGames:a})},o.render=function(){var e=this;return n.a.createElement(l.a,null,n.a.createElement("main",{className:"container-fluid headtohead"},n.a.createElement(i.a,{title:"Head to Head"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-7"},n.a.createElement(d,{owners:this.state.owners,triggerhappy:function(t){return e.teamChangeHandler(t)},teama:this.state.teamA,teamb:this.state.teamB,games:this.state.gamesLength})),n.a.createElement("div",{className:"col-lg-5"},n.a.createElement(h,{data:this.state.playedGames})))))},r}(n.a.Component),w=(t.default=u,"3758499210")}}]);
//# sourceMappingURL=component---src-pages-headtohead-js-4e579fa1a495512927c2.js.map