(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{JC6p:function(e,a,t){var n=t("cq/+"),r=t("7GkX");e.exports=function(e,a){return e&&n(e,a,r)}},SKAX:function(e,a,t){var n=t("JC6p"),r=t("lQqw")(n);e.exports=r},"cq/+":function(e,a,t){var n=t("mc0g")();e.exports=n},d1n8:function(e,a,t){"use strict";t.r(a);var n=t("KQm4"),r=t("JX7q"),s=t("dI71"),o=t("J2m7"),i=t.n(o),l=t("k4Da"),c=t.n(l),d=(t("K/os"),t("q1tI")),u=t.n(d),f=t("Bl7J"),m=t("rMbk"),h=(t("/riL"),t("xU0K")),p=t("aIYv"),g=function(e){function a(a){var t;return(t=e.call(this,a)||this).yearChangeHandler=function(e){var a=e.target.value;t.setState({YearSelected:a},(function(){return t.loadYearData()}))},t.loadYearData=function(){var e=t.state.YearSelected,a=t.refs.regular_season.checked,n=t.refs.playoffs.checked,r=t.state.gamesByYear,s=t.state.gamesByYear.find((function(a){return a.year===e})),o=[];if("All"===e)r.forEach((function(e){var t=e.weeks;!n&&a?(t=c()(t,{isPlayoff:!1}),o.push(t)):n&&!a?(t=c()(t,{isPlayoff:!0}),o.push(t)):n&&a&&o.push(t)}));else{var l=s.weeks;!n&&a?(l=c()(l,{isPlayoff:!1}),o=l):n&&!a?(l=c()(l,{isPlayoff:!0}),o=l):n&&a&&(o=l)}var d=[],u=[],f=[];if(o.reverse(),"All"===e)for(var m=0;m<o.length;m++)o[m].forEach((function(e){e.games.forEach((function(e){d.push(e)}))}));else o.forEach((function(e){e.games.forEach((function(e){d.push(e)}))}));d.forEach((function(e){u.find((function(a){return a.id===e.team_a[0].ownerId}))?u.find((function(a){return a.id===e.team_a[0].ownerId})).games.push(e):u.push({id:e.team_a[0].ownerId,name:e.team_a[0].owner,games:[e]}),u.find((function(a){return a.id===e.team_b[0].ownerId}))?u.find((function(a){return a.id===e.team_b[0].ownerId})).games.push(e):u.push({id:e.team_b[0].ownerId,name:e.team_b[0].owner,games:[e]})})),u.forEach((function(e){var a=0,n=0,r=0,s=0,o=0;e.games.forEach((function(t){t.team_a[0].ownerId===e.id?(s+=parseFloat(t.team_a[0].score),o+=parseFloat(t.team_b[0].score)):t.team_b[0].ownerId===e.id&&(s+=parseFloat(t.team_b[0].score),o+=parseFloat(t.team_a[0].score)),"HOME"===t.winner&&t.team_a[0].ownerId===e.id||"AWAY"===t.winner&&t.team_b[0].ownerId===e.id?a++:parseFloat(t.team_b[0].score)===parseFloat(t.team_a[0].score)?r++:n++}));var l=parseFloat(a+.5*r)/e.games.length,c=t.props.data.allDataJson.edges[0].node.owners,d=i()(c,["id",e.id]);f.push({team:""!==d.fantasyname?d.name+" ("+d.fantasyname+")":d.name,wins:a,loses:n,ties:r,points:parseFloat(s.toFixed(2)),pointsAgainst:parseFloat(o.toFixed(2)),winRate:l.toFixed(3)})})),f.sort((function(e,a){return(e=new Date(e.wins))>(a=new Date(a.wins))?-1:e<a?1:0})),f.forEach((function(e,a){e.rank=a+1})),t.setState({statsByTeam:f})},t.regularSeasonClickHandler=function(e){t.loadYearData()},t.yearChangeHandler=t.yearChangeHandler.bind(Object(r.a)(t)),t.loadYearData=t.loadYearData.bind(Object(r.a)(t)),t.state={yearLabels:[],YearSelected:"",gamesByYear:[],statsByTeam:[]},t}Object(s.a)(a,e);var t=a.prototype;return t.UNSAFE_componentWillMount=function(){var e=this.props.data.allDataJson.edges[0].node.years,a=[];e.forEach((function(e){e.weeks_games.forEach((function(e){a.push.apply(a,Object(n.a)(e.games))}))}));var t=[],r=[],s=[];a.forEach((function(e){if(r.find((function(a){return a.year===e.year}))){var a=r.find((function(a){return a.year===e.year}));if(a.weeks.find((function(a){return a.week===e.week})))a.weeks.find((function(a){return a.week===e.week})).games.push(e);else a.weeks.push({week:e.week,games:[e]})}else r.push({year:e.year,weeks:[{week:e.week,games:[e]}]}),s.push(e.year)})),r.forEach((function(e){e.weeks.forEach((function(e){e.isPlayoff=!1,e.games.forEach((function(a){"NONE"!==a.playoffTierType&&(e.isPlayoff=!0,e.games=c()(e.games,(function(e){return"NONE"!==e.playoffTierType})))})),!0===e.isPlayoff&&t.push(e)}))})),s.reverse(),this.setState({yearLabels:s}),this.setState({gamesByYear:r}),this.setState({YearSelected:"All"})},t.componentDidMount=function(){this.loadYearData()},t.render=function(){var e=this;return u.a.createElement(f.a,null,u.a.createElement("main",{className:"container-fluid standings"},u.a.createElement(m.a,{title:"Standings"}),u.a.createElement("div",{className:"card mb-3"},u.a.createElement("div",{className:"card-header"},u.a.createElement("input",{type:"checkbox",id:"regular-season",ref:"regular_season",value:"regular-season",onChange:this.regularSeasonClickHandler,defaultChecked:!0})," ",u.a.createElement("span",{className:"checkbox-label"},"Regular Season"),u.a.createElement("input",{type:"checkbox",id:"playoffs",ref:"playoffs",value:"playoffs",onChange:this.regularSeasonClickHandler})," ",u.a.createElement("span",{className:"checkbox-label"},"Playoffs"),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(h.a,{data:this.state.yearLabels,change:function(a){return e.yearChangeHandler(a)}})),u.a.createElement("div",{className:"card-body"},u.a.createElement("div",{className:"table-responsive"},u.a.createElement(p.BootstrapTable,{data:this.state.statsByTeam,options:{defaultSortName:"rank",defaultSortOrder:"asc"},bordered:!1,trClassName:"alt",version:"4"},u.a.createElement(p.TableHeaderColumn,{dataField:"rank",isKey:!0,dataSort:!0,className:"heading--gray",width:"10%"},"Rank"),u.a.createElement(p.TableHeaderColumn,{dataField:"team",dataSort:!0,className:"heading--gray"},"Team"),u.a.createElement(p.TableHeaderColumn,{dataField:"wins",dataSort:!0,className:"heading--gray",width:"10%"},"W"),u.a.createElement(p.TableHeaderColumn,{dataField:"loses",dataSort:!0,className:"heading--gray",width:"10%"},"L"),u.a.createElement(p.TableHeaderColumn,{dataField:"ties",dataSort:!0,className:"heading--gray",width:"10%"},"T"),u.a.createElement(p.TableHeaderColumn,{dataField:"winRate",dataSort:!0,className:"heading--gray",width:"10%"},"PCT"),u.a.createElement(p.TableHeaderColumn,{dataField:"points",dataSort:!0,className:"heading--gray",width:"10%"},"PF"),u.a.createElement(p.TableHeaderColumn,{dataField:"pointsAgainst",dataSort:!0,className:"heading--gray",width:"10%"},"PA")))),u.a.createElement("div",{className:"card-footer small text-muted"}))))},a}(u.a.Component);a.default=g},k4Da:function(e,a,t){var n=t("LXxW"),r=t("n3Sm"),s=t("ut/Y"),o=t("Z0cm");e.exports=function(e,a){return(o(e)?n:r)(e,s(a,3))}},lQqw:function(e,a,t){var n=t("MMmD");e.exports=function(e,a){return function(t,r){if(null==t)return t;if(!n(t))return e(t,r);for(var s=t.length,o=a?s:-1,i=Object(t);(a?o--:++o<s)&&!1!==r(i[o],o,i););return t}}},mc0g:function(e,a){e.exports=function(e){return function(a,t,n){for(var r=-1,s=Object(a),o=n(a),i=o.length;i--;){var l=o[e?i:++r];if(!1===t(s[l],l,s))break}return a}}},n3Sm:function(e,a,t){var n=t("SKAX");e.exports=function(e,a){var t=[];return n(e,(function(e,n,r){a(e,n,r)&&t.push(e)})),t}}}]);
//# sourceMappingURL=component---src-pages-standings-js-076485bebbcc03b2dbe3.js.map