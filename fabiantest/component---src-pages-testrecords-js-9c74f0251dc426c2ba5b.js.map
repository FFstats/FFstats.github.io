{"version":3,"sources":["webpack:///./src/helpers/game.js","webpack:///./src/pages/testrecords.js","webpack:///./node_modules/lodash/compact.js"],"names":["_","require","gameOutcome","game","owners","winner","winnerId","loser","loserId","scoreWin","scoreLose","parseFloat","team_a","score","team_b","ownerId","find","name","week","year","margin","toFixed","sumScore","IndexPage","props","yearChangeHandler","event","selected","target","value","setState","YearSelected","loadYearData","data","allDataJson","edges","node","state","includeRegularSeason","refs","regular_season","checked","includePlayoffs","playoffs","allYearsObject","gamesByYear","yearObject","obj","gameWeeks","allGamesYear","gameStats","allScores","gamesByOwner","forEach","element","weeks","push","reverse","i","length","games","id","image","owner","topScores","bottomScores","topVictoryMargin","bottomVictoryMargin","mostPoints","fewestPoints","highestScoreLoss","lowestScoreWin","regularSeasonClickHandler","bind","yearLabels","UNSAFE_componentWillMount","console","log","this","years","weeks_games","playOffWeeks","currentYear","playoffTierType","isPlayoff","componentDidMount","render","className","title","type","ref","onChange","defaultChecked","change","label","show","React","Component","module","exports","array","index","resIndex","result"],"mappings":"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","file":"component---src-pages-testrecords-js-9c74f0251dc426c2ba5b.js","sourcesContent":["\r\nconst _ = require('lodash');\r\n\r\nexport function gameOutcome(game,owners) {\r\n\r\n  var winner, winnerId, loser, loserId, scoreWin, scoreLose;\r\n  winner = winnerId = loser = loserId = '';\r\n  scoreWin = scoreLose = 0;\r\n  if (parseFloat(game.team_a[\"0\"].score) > parseFloat(game.team_b[\"0\"].score)) {\r\n    winnerId = game.team_a[\"0\"].ownerId;\r\n    scoreWin = game.team_a[\"0\"].score;\r\n    loserId = game.team_b[\"0\"].ownerId;\r\n    scoreLose = game.team_b[\"0\"].score;\r\n    winner = _.find(owners, ['id', winnerId]).name;\r\n    loser = _.find(owners, ['id', loserId]).name;\r\n  }\r\n  else if (parseFloat(game.team_b[\"0\"].score) > parseFloat(game.team_a[\"0\"].score)) {\r\n    winnerId = game.team_b[\"0\"].ownerId;\r\n    scoreWin = game.team_b[\"0\"].score;\r\n    loserId = game.team_a[\"0\"].ownerId;\r\n    scoreLose = game.team_a[\"0\"].score;\r\n    winner = _.find(owners, ['id', winnerId]).name;\r\n    loser = _.find(owners, ['id', loserId]).name;\r\n  }\r\n\r\n  if (winner !== '') {\r\n    return {\r\n      winner: winner,\r\n      loser: loser,\r\n      winnerId: winnerId,\r\n      loserId: loserId,\r\n      scoreWin: scoreWin,\r\n      scoreLose: scoreLose,\r\n      week: game.week,\r\n      year: game.year,\r\n      margin: parseFloat((scoreWin - scoreLose).toFixed(2)),\r\n      sumScore: parseFloat((scoreWin + scoreLose).toFixed(2))\r\n    };\r\n  }\r\n}\r\n\r\nexport function minus(a, b) {\r\n  return a - b;\r\n}\r\n\r\nexport function multiply(a, b) {\r\n  return a * b;\r\n}\r\n\r\nexport function divide(a, b) {\r\n  return a / b;\r\n}","import _ from 'lodash';\r\nimport React from 'react';\r\nimport {graphql } from 'gatsby';\r\nimport Layout from \"../components/layout\";\r\nimport Breadcrumb from '../components/breadcrumb';\r\nimport YearSelect from '../components/year-selector';\r\nimport GameRecord from '../components/GameRecord';\r\nimport MatchupRecord from '../components/MatchupRecord';\r\nimport { gameOutcome} from '../helpers/game';\r\n\r\nclass IndexPage extends React.Component {\r\n\tconstructor(props) {\r\n\t\t\t\t\t\tsuper(props);\r\n\t\t\t\t\t\tthis.yearChangeHandler = this.yearChangeHandler.bind(this);\r\n\t\t\t\t\t\tthis.loadYearData = this.loadYearData.bind(this);\r\n\t        \tthis.state = {\r\n\t\t\t\t\t\t\tlowestScoreWin: [],\r\n\t\t\t\t\t\t\thighestScoreLoss: [],\r\n\t\t\t\t\t\t\tfewestPoints: [],\r\n\t\t\t\t\t\t\tmostPoints: [],\r\n\t\t\t\t\t\t\ttopVictoryMargin: [],\r\n\t\t\t\t\t\t\tbottomVictoryMargin: [],\r\n\t\t\t\t\t\t\ttopScores: [],\r\n\t\t\t\t\t\t\tbottomScores: [],\r\n\t\t\t\t\t\t\tyearLabels: [],\r\n\t\t\t\t\t\t\tYearSelected: \"\",\r\n\t\t\t\t\t\t\tgamesByYear: []\r\n\t\t        }\r\n\t        }\r\n\t\t\t\t\t\r\n\t\tyearChangeHandler = (event) => {\r\n\t\t\tvar selected = event.target.value;\r\n\t\t\tthis.setState(\r\n\t\t\t\t{ YearSelected: selected },\r\n\t\t\t\t() => this.loadYearData()\r\n\t\t\t)\r\n\t\t}\r\n\t\r\n\t\tloadYearData = () => {\r\n\t\t\tconst owners = this.props.data.allDataJson.edges[0].node.owners;\r\n\t\t\tvar year = this.state.YearSelected;\r\n\t\t\tvar includeRegularSeason = this.refs.regular_season.checked;\r\n\t\t\tvar includePlayoffs = this.refs.playoffs.checked;\r\n\r\n\t\t\tvar allYearsObject = this.state.gamesByYear;\r\n\t\t\tvar yearObject = this.state.gamesByYear.find(obj => obj.year === year);\r\n\t\t\tvar gameWeeks = [];\r\n\t\t\tvar allGamesYear = [];\r\n\t\t\tvar gameStats = [];\r\n\t\t\tlet allScores = [];\r\n\t\t\tvar gamesByOwner = [];\r\n\r\n\t\t\tif (year === 'All') {\r\n\t\t\t\tallYearsObject.forEach(function (element) {\r\n\t\t\t\t\tlet weeks = element.weeks;\r\n\t\t\t\t\t// Just regular season\r\n\t\t\t\t\tif (!includePlayoffs && includeRegularSeason) { \r\n\t\t\t\t\t\tweeks = _.filter(weeks, { 'isPlayoff': false });\r\n\t\t\t\t\t\tgameWeeks.push(weeks);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//Just playoffs \r\n\t\t\t\t\telse if (includePlayoffs && !includeRegularSeason) {\r\n\t\t\t\t\t\tweeks = _.filter(weeks, { 'isPlayoff': true });\r\n\t\t\t\t\t\tgameWeeks.push(weeks);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// All\r\n\t\t\t\t\telse if (includePlayoffs && includeRegularSeason) {\r\n\t\t\t\t\t\tgameWeeks.push(weeks);\r\n\t\t\t\t\t}\t\t\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet weeks = yearObject.weeks;\r\n\t\t\t\t// Just regular season\r\n\t\t\t\tif (!includePlayoffs && includeRegularSeason) {\r\n\t\t\t\t\tweeks = _.filter(weeks, { 'isPlayoff': false });\r\n\t\t\t\t\tgameWeeks = weeks;\r\n\t\t\t\t}\r\n\t\t\t\t//Just playoffs \r\n\t\t\t\telse if (includePlayoffs && !includeRegularSeason) {\r\n\t\t\t\t\tweeks = _.filter(weeks, { 'isPlayoff': true });\r\n\t\t\t\t\tgameWeeks = weeks;\r\n\t\t\t\t}\r\n\t\t\t\t// All\r\n\t\t\t\telse if (includePlayoffs && includeRegularSeason) {\r\n\t\t\t\t\tgameWeeks = weeks;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\tgameWeeks.reverse();\r\n\r\n\t\t\t//get all games from weeks for each year\r\n\t\t\tif (year === 'All') {\r\n\t\t\t\tfor (let i = 0; i < gameWeeks.length; i++) {\r\n\t\t\t\t\tgameWeeks[i].forEach((week) => {\r\n\t\t\t\t\t\tweek.games.forEach((game) => {\r\n\t\t\t\t\t\t\tallGamesYear.push(game);\r\n\t\t\t\t\t\t\tallScores.push({\r\n\t\t\t\t\t\t\t\tid: game.team_a[\"0\"].ownerId,\r\n\t\t\t\t\t\t\t\tname: _.find(owners, ['id', game.team_a[\"0\"].ownerId]).name,\r\n\t\t\t\t\t\t\t\tscore: game.team_a[\"0\"].score,\r\n\t\t\t\t\t\t\t\tweek: game.week,\r\n\t\t\t\t\t\t\t\tyear: game.year,\r\n\t\t\t\t\t\t\t\timage: _.find(owners, ['id', game.team_a[\"0\"].ownerId]).image\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tallScores.push({\r\n\t\t\t\t\t\t\t\tid: game.team_b[\"0\"].ownerId,\r\n\t\t\t\t\t\t\t\tname: _.find(owners, ['id', game.team_b[\"0\"].ownerId]).name,\r\n\t\t\t\t\t\t\t\tscore: game.team_b[\"0\"].score,\r\n\t\t\t\t\t\t\t\tweek: game.week,\r\n\t\t\t\t\t\t\t\tyear: game.year,\r\n\t\t\t\t\t\t\t\timage: _.find(owners, ['id', game.team_b[\"0\"].ownerId]).image\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Get games for just one year\r\n\t\t\telse {\r\n\t\t\t\tgameWeeks.forEach((week) => {\r\n\t\t\t\t\tweek.games.forEach((game) => {\r\n\t\t\t\t\t\tallGamesYear.push(game);\r\n\t\t\t\t\t\tallScores.push({\r\n\t\t\t\t\t\t\tid: game.team_a[\"0\"].ownerId,\r\n\t\t\t\t\t\t\tname: _.find(owners, ['id', game.team_a[\"0\"].ownerId]).name,\r\n\t\t\t\t\t\t\tscore: game.team_a[\"0\"].score,\r\n\t\t\t\t\t\t\tweek: game.week,\r\n\t\t\t\t\t\t\tyear: game.year,\r\n\t\t\t\t\t\t\timage: _.find(owners, ['id', game.team_a[\"0\"].ownerId]).image\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tallScores.push({\r\n\t\t\t\t\t\t\tid: game.team_b[\"0\"].ownerId,\r\n\t\t\t\t\t\t\tname: _.find(owners, ['id', game.team_b[\"0\"].ownerId ]).name,\r\n\t\t\t\t\t\t\tscore: game.team_b[\"0\"].score,\r\n\t\t\t\t\t\t\tweek: game.week,\r\n\t\t\t\t\t\t\tyear: game.year,\r\n\t\t\t\t\t\t\timage: _.find(owners, ['id', game.team_b[\"0\"].ownerId]).image\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t//get games by Owner\r\n\t\t\tvar teamObject = []\r\n\t\t\tif(year === 'All') {\r\n\t\t\t\tallGamesYear.forEach((game) => {\r\n\t\t\t\t\tif (gamesByOwner.find(obj => obj.id === game.team_a[\"0\"].ownerId)) {\r\n\t\t\t\t\t\tteamObject = gamesByOwner.find(obj => obj.id === game.team_a[\"0\"].ownerId);\r\n\t\t\t\t\t\t\tteamObject.games.push(game);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tgamesByOwner.push({\r\n\t\t\t\t\t\t\tid: game.team_a[\"0\"].ownerId,\r\n\t\t\t\t\t\t\tname: game.team_a[\"0\"].owner,\r\n\t\t\t\t\t\t\tgames: [game]\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (gamesByOwner.find(obj => obj.id === game.team_b[\"0\"].ownerId)) {\r\n\t\t\t\t\t\tteamObject = gamesByOwner.find(obj => obj.id === game.team_b[\"0\"].ownerId);\r\n\t\t\t\t\t\t\tteamObject.games.push(game);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tgamesByOwner.push({\r\n\t\t\t\t\t\t\tid: game.team_b[\"0\"].ownerId,\r\n\t\t\t\t\t\t\tname: game.team_b[\"0\"].owner,\r\n\t\t\t\t\t\t\tgames: [game]\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t} else { \r\n\t\t\t\tallGamesYear.forEach((game) => {\r\n\t\t\t\tif(game.team_a[\"0\"].name) {\r\n\t\t\t\t\tif (gamesByOwner.find(obj => obj.id === game.team_a[\"0\"].ownerId)) {\r\n\t\t\t\t\t\tteamObject = gamesByOwner.find(obj => obj.id === game.team_a[\"0\"].ownerId);\r\n\t\t\t\t\t\t\tteamObject.games.push(game);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tgamesByOwner.push({\r\n\t\t\t\t\t\t\tid: game.team_a[\"0\"].ownerId,\r\n\t\t\t\t\t\t\tname: game.team_a[\"0\"].name,\r\n\t\t\t\t\t\t\tgames: [game]\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t\t\t\r\n\t\t\t\tif(game.team_b[\"0\"].name) {\r\n\t\t\t\t\tif (gamesByOwner.find(obj => obj.id === game.team_b[\"0\"].ownerId)) {\r\n\t\t\t\t\t\tteamObject = gamesByOwner.find(obj => obj.id === game.team_b[\"0\"].ownerId);\r\n\t\t\t\t\t\t\tteamObject.games.push(game);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tgamesByOwner.push({\r\n\t\t\t\t\t\t\tid: game.team_b[\"0\"].ownerId,\r\n\t\t\t\t\t\t\tname: game.team_b[\"0\"].name,\r\n\t\t\t\t\t\t\tgames: [game]\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tallGamesYear.forEach((game) => {\r\n\t\t\t\tgameStats.push(gameOutcome(game,owners));\r\n\t\t\t});\r\n\r\n\r\n\t\t\tallScores = _.sortBy(allScores, ['score']);\r\n\t\t\tvar topScores = _.orderBy(_.takeRight(allScores, 10), ['score'], ['desc']);\r\n\t\t\tvar bottomScores = _.take(allScores, 10);\r\n\r\n\t\t\tgameStats = _.compact(gameStats);\r\n\t\t\tvar topVictoryMargin = _.orderBy(_.takeRight(_.sortBy(gameStats, ['margin']), 10), ['margin'], ['desc']);\r\n\t\t\tvar bottomVictoryMargin = _.take(_.sortBy(gameStats, ['margin']), 10);\r\n\r\n\t\t\tvar mostPoints = _.orderBy(_.takeRight(_.sortBy(gameStats, ['sumScore']), 10), ['sumScore'], ['desc']);\r\n\t\t\tvar fewestPoints = _.take(_.sortBy(gameStats, ['sumScore']), 10);\r\n\r\n\t\t\tvar highestScoreLoss = _.orderBy(_.takeRight(_.sortBy(gameStats, ['scoreLose']), 10), ['scoreLose'], ['desc']);\r\n\t\t\tvar lowestScoreWin = _.take(_.sortBy(gameStats, ['scoreWin']), 10);\r\n\r\n\t\t\t\r\n\t\t\tthis.setState({ lowestScoreWin: lowestScoreWin });\r\n\t\t\tthis.setState({ highestScoreLoss: highestScoreLoss });\r\n\t\t\tthis.setState({ fewestPoints: fewestPoints });\r\n\t\t\tthis.setState({ mostPoints: mostPoints });\r\n\t\t\tthis.setState({ topVictoryMargin: topVictoryMargin });\r\n\t\t\tthis.setState({ bottomVictoryMargin: bottomVictoryMargin });\r\n\t\t\tthis.setState({ topScores: topScores });\r\n\t\t\tthis.setState({ bottomScores: bottomScores });\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\tUNSAFE_componentWillMount() {\r\n\t\t\tconsole.log(this.props,\"this props\");\r\n\t\t\tconst years = this.props.data.allDataJson.edges[0].node.years;\r\n\t\t\tvar games = [];\r\n\t\t\t\r\n\t\t\tyears.forEach((year) => {\r\n\t\t\t\tyear.weeks_games.forEach((week) => {\r\n\t\t\t\t\tgames.push(...week.games);\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tvar playOffWeeks = [];\r\n\t\t\tvar gamesByYear = [];\r\n\t\t\tvar yearLabels = [];\r\n\t\t\t\r\n\t\t\t// get games by years and weeks\r\n\r\n\t\t\tgames.forEach((game) => {\r\n\t\t\t\t// If year repeats itself\r\n\t\t\t\tif(gamesByYear.find(obj => obj.year === game.year)) { \r\n\t\t\t\t\tvar currentYear = gamesByYear.find(obj => obj.year === game.year)\r\n\t\t\t\t\t\tif (currentYear.weeks.find(obj => obj.week === game.week)) {\r\n\t\t\t\t\t\t\tvar currentWeek = currentYear.weeks.find(obj => obj.week === game.week)\r\n\t\t\t\t\t\t\tcurrentWeek.games.push(game);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcurrentYear.weeks.push({\r\n\t\t\t\t\t\t\t\tweek: game.week,\r\n\t\t\t\t\t\t\t\tgames: [game]\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t} else { // Initial year \r\n\t\t\t\t\tgamesByYear.push({\r\n\t\t\t\t\t\t\tyear: game.year,\r\n\t\t\t\t\t\t\tweeks: [{\r\n\t\t\t\t\t\t\t\tweek: game.week,\r\n\t\t\t\t\t\t\t\tgames: [game]\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t});\r\n\t\t\t\t\tyearLabels.push(game.year);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// mark the playoff weeks and populate array\r\n\t\t\tgamesByYear.forEach((year) => {\r\n\t\t\t\tyear.weeks.forEach((week) => {\r\n\t\t\t\t\tif (week.games[0].playoffTierType !== 'NONE') {\r\n\t\t\t\t\t\tweek.isPlayoff = true;\r\n\t\t\t\t\t\tplayOffWeeks.push(week)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tweek.isPlayoff = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}); \r\n\t\t\t\r\n\t\t\tyearLabels.reverse();\r\n\r\n\t\t\tthis.setState({yearLabels:yearLabels });\r\n\t\t\r\n\t\t\tthis.setState({gamesByYear:gamesByYear})\r\n\t\t\tthis.setState({YearSelected: 'All' })\r\n\t\t\t \r\n  \t}        \r\n  \t\r\n\t\tcomponentDidMount() {\r\n\t\t\tthis.loadYearData();\r\n\t\t}\r\n\t\t\t\r\n\t\tregularSeasonClickHandler = event => {\r\n\t\t\tthis.loadYearData();\r\n\t\t}\r\n\t\t\r\n  \trender() {\r\n\t\r\n\t\t return (\r\n\t\t\t <Layout>\r\n\t\t   <main className=\"container-fluid\">\r\n\t\t    <Breadcrumb title=\"Game Records\"/>\r\n\t\t\t\t <div className=\"card mb-3\">\r\n\t\t\t      <div className=\"card-header\"> \r\n\t\t\t\t\t\t\t<input type=\"checkbox\" id=\"regular-season\" ref=\"regular_season\" value=\"regular-season\" onChange={this.regularSeasonClickHandler} defaultChecked={true} /> <span className=\"checkbox-label\">Regular Season</span>\r\n\t\t\t\t\t\t\t<input type=\"checkbox\" id=\"playoffs\" ref=\"playoffs\" value=\"playoffs\" onChange={this.regularSeasonClickHandler} /> <span className=\"checkbox-label\">Playoffs</span>\r\n\t\t\t\t\t\t\t<br/><br/>\r\n\t\t\t\t\t\t\t<YearSelect data={this.state.yearLabels} change={(event) => this.yearChangeHandler(event)}/>\r\n\t\t\t      </div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<GameRecord data={this.state.topScores} label=\"Score\" title=\"Top Scores\"  />\r\n\t\t\t\t\t\t\t\t<GameRecord data={this.state.bottomScores} label=\"Score\" title=\"Lowest Scores\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t \t<div className=\"row my-4\">\r\n\t\t\t\t\t\t\t <MatchupRecord data={this.state.topVictoryMargin} label=\"Margin\" show=\"Margin\" title=\"Highest Victory Margins\" />\r\n\t\t\t\t\t\t\t <MatchupRecord data={this.state.bottomVictoryMargin} label=\"Margin\" show=\"Margin\" title=\"Lowest Victory Margins\" />\r\n\t\t\t\t\t\t \t</div>\r\n\t\t\t\t\t\t\t<div className=\"row my-4\">\r\n\t\t\t\t\t\t\t <MatchupRecord data={this.state.mostPoints} label=\"Points\" show=\"Points\" title=\"Most Combined Points\" />\r\n\t\t\t\t\t\t\t <MatchupRecord data={this.state.fewestPoints} label=\"Points\" show=\"Points\" title=\"Fewest Combined Points\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row my-4\">\r\n\t\t\t\t\t\t\t <MatchupRecord data={this.state.highestScoreLoss} label=\"Score\" show=\"scoreLose\"  title=\"Highest Score in a Loss\" />\r\n\t\t\t\t\t\t\t <MatchupRecord data={this.state.lowestScoreWin} label=\"Score\" show=\"scoreWin\" title=\"Lowest Score in a Win\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t      </div>\r\n\t\t\t\t\t\t<div className=\"card-footer small text-muted\"></div>\r\n\t\t\t    </div>\r\n\t\t   </main>\r\n\t\t\t </Layout>\r\n\t\t\t );\r\n\t}\r\n}\r\nexport default IndexPage;\r\n\r\nexport const pageQuery = graphql`\r\n  query testRecordsQuery {\r\n\t\tallDataJson {\r\n\t\t\tedges {\r\n\t\t\t\tnode {\r\n\t\t\t\t\towners {\r\n\t\t\t\t\t\tname\r\n\t\t\t\t\t\tfantasyname\r\n\t\t\t\t\t\tid\r\n\t\t\t\t\t\timage\r\n\t\t\t\t\t\tstatus\r\n\t\t\t\t\t}\r\n\t\t\t\t\tyears{\r\n\t\t\t\t\t\tweeks_games {\r\n\t\t\t\t\t\t\tgames {\r\n\t\t\t\t\t\t\t\tweek\r\n\t\t\t\t\t\t\t\tplayoffTierType\r\n\t\t\t\t\t\t\t\tteam_a {\r\n\t\t\t\t\t\t\t\t\tname\r\n\t\t\t\t\t\t\t\t\towner\r\n\t\t\t\t\t\t\t\t\townerId\r\n\t\t\t\t\t\t\t\t\tlogo\r\n\t\t\t\t\t\t\t\t\tscore\r\n\t\t\t\t\t\t\t\t\trank\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tteam_b {\r\n\t\t\t\t\t\t\t\t\tname\r\n\t\t\t\t\t\t\t\t\towner\r\n\t\t\t\t\t\t\t\t\townerId\r\n\t\t\t\t\t\t\t\t\tlogo\r\n\t\t\t\t\t\t\t\t\tscore\r\n\t\t\t\t\t\t\t\t\trank\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tyear\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t\t}\r\n\t\t}\r\n}\r\n`;\r\n\r\n\r\n","/**\n * Creates an array with all falsey values removed. The values `false`, `null`,\n * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to compact.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.compact([0, 1, false, 2, '', 3]);\n * // => [1, 2, 3]\n */\nfunction compact(array) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = compact;\n"],"sourceRoot":""}