(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"GPg+":function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var a=t("IUeo"),r=t("q1tI"),l=t("Wbzz");function o(e){void 0===e&&(e={});var n=e,t=n.userLogged,o=void 0===t||t,c=n.redirectTo,u=void 0===c?"/log-in":c,i=Object(a.a)((function(e){return[e.user,e.loading]})),s=i[0],d=i[1],m=Object(r.useState)(!d),p=m[0],f=m[1],g=o?!!s:!s;return Object(r.useEffect)((function(){d||g?f(!d):Object(l.navigate)(u)}),[d]),{loaded:p}}},sFYk:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),r=t.n(a),l=t("GPg+"),o=t("CkF+"),c=t("aCaD"),u=t("Wbzz"),i=t("P0wp"),s=t.n(i),d=t("HdbP"),m=t("IUeo"),p=t("vOnD"),f=(t("bC0J"),p.c.nav.withConfig({displayName:"Navigationstyle__NavigationWrapper",componentId:"sc-18zrbtt-0"})(["\n    border-bottom: 1px solid #00000011;\n    & > div {\n        max-width: 1440px;\n        padding: 1rem;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: space-between;\n        gap: 24px;\n        margin: auto;\n\n        .logo {\n            max-height: 50px;\n        }\n\n        & > ul {\n            display: flex;\n            align-items: center;\n            gap: 24px;\n            justify-content: flex-end;\n            width: 100%;\n        }\n\n        @media (min-width: 768px) {\n            flex-direction: row;\n\n            & > ul {\n                width: auto;\n            }\n        }\n    }\n"])),g=function(){var e=Object(m.a)((function(e){return{user:e.user,logOut:e.logOut}})),n=e.user,t=e.logOut;return r.a.createElement(f,null,r.a.createElement("div",null,r.a.createElement(u.Link,{to:"/"},r.a.createElement(d.a,{className:"logo",src:s.a,alt:"Fantasy Franchise"})),r.a.createElement("ul",null,r.a.createElement("li",null,null==n?void 0:n.email),r.a.createElement("li",null,r.a.createElement("button",{onClick:t},"Log Out")))))},b=function(e){var n=e.navigation,t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null),r.a.createElement(c.b,null),r.a.createElement(c.a,null,n&&r.a.createElement(g,null),t))},h=t("HaE+"),v=t("o0o1"),E=t.n(v),x=t("6QdR"),w=t("yDnf"),y=t.n(w),k=Object(x.a)().firestore(),O=y()((function(e,n){return{leagues:[],loading:!1,getLeagues:(r=Object(h.a)(E.a.mark((function n(t){var a,r;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.email,n.next=3,k.collection("users").where("email","==",a).get();case 3:r=n.sent,e({leagues:r.docs.map((function(e){return Object.assign({id:e.id},e.data())}))});case 5:case"end":return n.stop()}}),n)}))),function(e){return r.apply(this,arguments)}),removeLeague:(a=Object(h.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.collection("users").doc(a).delete();case 2:e({leagues:n().leagues.filter((function(e){return e.id!==a}))});case 3:case"end":return t.stop()}}),t)}))),function(e){return a.apply(this,arguments)}),updateLeague:(t=Object(h.a)(E.a.mark((function t(a,r){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.collection("users").doc(a).update(r);case 2:e({leagues:n().leagues.map((function(e){return e.id===a?Object.assign({},e,r):e}))});case 3:case"end":return t.stop()}}),t)}))),function(e,n){return t.apply(this,arguments)})};var t,a,r}));m.a.subscribe((function(e){return e.user}),(function(e){e?O.getState().getLeagues(e):O.setState({leagues:[]})}));var L=p.c.div.withConfig({displayName:"LeaguesTablestyled__TableWrapper",componentId:"sc-1fcvxdb-0"})(["\n    max-width: 1440px;\n    padding: 1rem;\n    margin: auto;\n\n    table {\n        border-collapse: collapse;\n    }\n\n    table tr th {\n        background: #222;\n        color: #fff;\n        padding: 5px;\n        border: #111 solid 1px;\n        text-align: left;\n        font-weight: bold;\n    }\n    table tr td {\n        border: 1px #ccc solid;\n        padding: 5px;\n    }\n\n    table tr td.rightright {\n        background: #eee;\n    }\n    table tr td h4 {\n        margin: 0;\n        padding: 0;\n        font-weight: normal;\n    }\n\n    table {\n        margin-bottom: 2em;\n        width: 100%;\n    }\n    th {\n        border-bottom: 2px solid #ccc;\n        font-weight: bold;\n        text-align: left;\n    }\n    td {\n        border-bottom: 1px solid #ddd;\n    }\n    caption,\n    th,\n    td {\n        padding: 4px 10px 4px 0;\n    }\n    caption {\n        background: #f1f1f1;\n        padding: 10px 0;\n        margin-bottom: 1em;\n    }\n\n    tr,\n    td,\n    th {\n        vertical-align: middle;\n    }\n\n    /* Use this if you use span-x classes on th/td. */\n    table .last {\n        padding-right: 0;\n    }\n\n    tbody tr {\n        cursor: pointer;\n    }\n"]);var j=p.c.dialog.withConfig({displayName:"Dialog__Container",componentId:"sc-179j9v2-0"})(["\n    width: 350px;\n    border-radius: 8px;\n    border: 1px solid #888;\n\n    ::backdrop {\n        background: rgba(0, 0, 0, 0.3);\n    }\n\n    h2 {\n        margin: 0;\n        margin-bottom: 8px;\n    }\n"]),C=(p.c.div.withConfig({displayName:"Dialog__Buttons",componentId:"sc-179j9v2-1"})(["\n    display: flex;\n    gap: 20px;\n"]),function(e){var n=e.isOpened,t=(e.onProceed,e.onClose),l=e.children,o=Object(a.useRef)(null);!function(e,n){Object(a.useEffect)((function(){var t=function(t){var a=e.current.getBoundingClientRect();a.top<=t.clientY&&t.clientY<=a.top+a.height&&a.left<=t.clientX&&t.clientX<=a.left+a.width||n()};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[e,n])}(o,(function(){return t()})),Object(a.useEffect)((function(){n?(o.current&&o.current.showModal&&o.current.showModal(),document.body.classList.add("modal-open")):(o.current&&o.current.close&&o.current.close(),document.body.classList.remove("modal-open"))}),[n]);return r.a.createElement(j,{ref:o,onCancel:t,onClick:t},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},l))}),N=t("KQm4"),I=(t("E9XD"),function(e){var n=e.league,t=e.handleClose,a=O((function(e){return{removeLeague:e.removeLeague,updateLeague:e.updateLeague}})),l=a.removeLeague,o=a.updateLeague;function c(){return(c=Object(h.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(n.id);case 2:t();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=Object(h.a)(E.a.mark((function e(a){var r,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r=Object(N.a)(a.target.elements),l=r.reduce((function(e,n){return n.id&&("checkbox"===n.type?e[n.id]=n.checked:e[n.id]=n.value),e}),{}),e.next=5,o(n.id,l);case 5:t();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("h2",null,"Edit League Info"),r.a.createElement("form",{className:"base-form",onSubmit:function(e){return u.apply(this,arguments)}},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name",className:"base-label"},"Name"),r.a.createElement("input",{className:"base-input",type:"text",defaultValue:n.name,required:!0,placeholder:"Name",id:"name",name:"name"})),r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{id:"consolationGames",name:"consolationGames",type:"checkbox",defaultChecked:n.consolationGames}),r.a.createElement("label",{htmlFor:"consolationGames",className:"base-label base-label--horizontal"},"Consolation Games")),r.a.createElement("button",{type:"submit"},"Submit"),r.a.createElement("button",{type:"button",className:"base-button base-button--danger",onClick:function(){return c.apply(this,arguments)}},"Delete League")))}),G=function(){var e=r.a.useState(!1),n=e[0],t=e[1],a=r.a.useState(null),l=a[0],o=a[1],c=O((function(e){return e.leagues}));function u(){t(!1)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Platform"),r.a.createElement("th",null,"League Id"),r.a.createElement("th",null,"Consolation Games"))),r.a.createElement("tbody",null,c.map((function(e,n){return r.a.createElement("tr",{key:n,onClick:function(){return function(e){o(e),t(!0)}(e)}},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.platform),r.a.createElement("td",null,e.leagueid),r.a.createElement("td",null,e.consolationGames?"Yes":"No"))}))))),r.a.createElement(C,{isOpened:n,onClose:u},l&&r.a.createElement(I,{league:l,handleClose:u})))};n.default=function(){return Object(l.a)().loaded?r.a.createElement(b,{navigation:!0},r.a.createElement(G,null)):null}}}]);
//# sourceMappingURL=component---src-pages-dashboard-js-0554c6a528c59b1e7a25.js.map