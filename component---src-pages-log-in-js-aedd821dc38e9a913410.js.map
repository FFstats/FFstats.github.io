{"version":3,"sources":["webpack:///./src/pages/log-in.js"],"names":["Test","React","useState","alertText","setAlertText","logInWithEmailAndPassword","useUserStore","state","e","a","preventDefault","elementsArray","target","elements","formData","reduce","acc","elem","id","value","email","password","useProtectedRoute","userLogged","redirectTo","loaded","title","handleSubmit","to"],"mappings":"wQAkDeA,UAzCF,WACT,MAAkCC,IAAMC,SAAS,IAA1CC,EAAP,KAAkBC,EAAlB,KACOC,EAA6BC,aAAa,SAACC,GAAD,MAAW,CAACA,EAAMF,8BAAnE,GAFe,4CAKf,WAA4BG,GAA5B,qBAAAC,EAAA,6DACID,EAAEE,iBAEIC,EAHV,YAG8BH,EAAEI,OAAOC,UAC7BC,EAAWH,EAAcI,QAAO,SAACC,EAAKC,GAExC,OADAD,EAAIC,EAAKC,IAAMD,EAAKE,MACbH,IACR,IAEKI,EAAoBN,EAApBM,MAAOC,EAAaP,EAAbO,SATnB,kBAWchB,EAA0Be,EAAOC,GAX/C,OAYQjB,EAAa,IAZrB,kDAcQA,EAAa,qCAdrB,2DALe,sBAuBf,OApBmBkB,YAAkB,CAAEC,YAAY,EAAOC,WAAY,WAA9DC,OAuBJ,6BACKtB,GAAa,kBAAC,IAAD,KAAQA,GACtB,kBAAC,IAAD,MACA,kBAAC,IAAD,MACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAYuB,MAAM,SAASC,aA/BxB,6CAgCC,uDAC2B,kBAAC,OAAD,CAAMC,GAAG,YAAT,eAVvB","file":"component---src-pages-log-in-js-aedd821dc38e9a913410.js","sourcesContent":["import React from 'react';\r\nimport { ResetCSS } from '../assets/styles/style';\r\nimport { GlobalStyle, AppWrapper } from '../components/theme/app.style';\r\nimport Alert from '../components/Alert/index';\r\nimport SignUpForm from '../components/SignUpForm/index';\r\nimport { useUserStore } from '../store/user';\r\nimport { Link } from 'gatsby';\r\nimport { useProtectedRoute } from '../hooks/useProtectedRoute';\r\n\r\nconst Test = () => {\r\n    const [alertText, setAlertText] = React.useState('');\r\n    const [logInWithEmailAndPassword] = useUserStore((state) => [state.logInWithEmailAndPassword]);\r\n    const { loaded } = useProtectedRoute({ userLogged: false, redirectTo: '/table' });\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const elementsArray = [...e.target.elements];\r\n        const formData = elementsArray.reduce((acc, elem) => {\r\n            acc[elem.id] = elem.value;\r\n            return acc;\r\n        }, {});\r\n\r\n        const { email, password } = formData;\r\n        try {\r\n            await logInWithEmailAndPassword(email, password);\r\n            setAlertText('');\r\n        } catch {\r\n            setAlertText('There was an error signing you up');\r\n        }\r\n    }\r\n\r\n    if (!loaded) return null;\r\n\r\n    return (\r\n        <div>\r\n            {alertText && <Alert>{alertText}</Alert>}\r\n            <ResetCSS />\r\n            <GlobalStyle />\r\n            <AppWrapper>\r\n                <SignUpForm title=\"Log In\" handleSubmit={handleSubmit}>\r\n                    <div>\r\n                        Don't have an account? <Link to=\"/sign-up\">Sign Up</Link>\r\n                    </div>\r\n                </SignUpForm>\r\n            </AppWrapper>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Test;\r\n"],"sourceRoot":""}