{"version":3,"sources":["webpack:///./src/pages/sign-up.js"],"names":["Test","React","useState","alertText","setAlertText","useUserStore","state","loading","createUserWithEmailAndPassword","e","a","preventDefault","elementsArray","target","elements","formData","reduce","acc","elem","id","value","email","password","useProtectedRoute","userLogged","redirectTo","loaded","title","handleSubmit","to"],"mappings":"yQAqDeA,UA5CF,WACT,MAAkCC,IAAMC,SAAS,IAA1CC,EAAP,KAAkBC,EAAlB,KACA,EAAkDC,aAAa,SAACC,GAAD,MAAW,CACtEA,EAAMC,QACND,EAAME,mCAFMA,GAAhB,WAFe,4CAQf,WAA4BC,GAA5B,qBAAAC,EAAA,6DACID,EAAEE,iBAEIC,EAHV,YAG8BH,EAAEI,OAAOC,UAC7BC,EAAWH,EAAcI,QAAO,SAACC,EAAKC,GAExC,OADAD,EAAIC,EAAKC,IAAMD,EAAKE,MACbH,IACR,IAEKI,EAAoBN,EAApBM,MAAOC,EAAaP,EAAbO,SATnB,kBAWcd,EAA+Ba,EAAOC,GAXpD,OAYQlB,EAAa,IAZrB,kDAcQA,EAAa,qCAdrB,2DARe,sBA0Bf,OApBmBmB,YAAkB,CAAEC,YAAY,EAAOC,WAAY,WAA9DC,OAuBJ,6BACKvB,GAAa,kBAAC,IAAD,KAAQA,GACtB,kBAAC,IAAD,MACA,kBAAC,IAAD,MACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAYwB,MAAM,UAAUC,aAlCzB,6CAmCC,yDAC6B,kBAAC,OAAD,CAAMC,GAAG,WAAT,cAVzB","file":"component---src-pages-sign-up-js-91985f176f283b73fdb0.js","sourcesContent":["import React from 'react';\r\nimport { ResetCSS } from '../assets/styles/style';\r\nimport { GlobalStyle, AppWrapper } from '../components/theme/app.style';\r\nimport Alert from '../components/Alert/index';\r\nimport SignUpForm from '../components/SignUpForm/index';\r\nimport { useUserStore } from '../store/user';\r\nimport { Link } from 'gatsby';\r\nimport { useProtectedRoute } from '../hooks/useProtectedRoute';\r\n\r\nconst Test = () => {\r\n    const [alertText, setAlertText] = React.useState('');\r\n    const [loading, createUserWithEmailAndPassword] = useUserStore((state) => [\r\n        state.loading,\r\n        state.createUserWithEmailAndPassword,\r\n    ]);\r\n    const { loaded } = useProtectedRoute({ userLogged: false, redirectTo: '/table' });\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const elementsArray = [...e.target.elements];\r\n        const formData = elementsArray.reduce((acc, elem) => {\r\n            acc[elem.id] = elem.value;\r\n            return acc;\r\n        }, {});\r\n\r\n        const { email, password } = formData;\r\n        try {\r\n            await createUserWithEmailAndPassword(email, password);\r\n            setAlertText('');\r\n        } catch {\r\n            setAlertText('There was an error signing you up');\r\n        }\r\n    }\r\n\r\n    if (!loaded) return null;\r\n\r\n    return (\r\n        <div>\r\n            {alertText && <Alert>{alertText}</Alert>}\r\n            <ResetCSS />\r\n            <GlobalStyle />\r\n            <AppWrapper>\r\n                <SignUpForm title=\"Sign Up\" handleSubmit={handleSubmit}>\r\n                    <div>\r\n                        Already have an account? <Link to=\"/log-in\">Log In</Link>\r\n                    </div>\r\n                </SignUpForm>\r\n            </AppWrapper>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Test;\r\n"],"sourceRoot":""}